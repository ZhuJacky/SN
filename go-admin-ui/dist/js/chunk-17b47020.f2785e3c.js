(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17b47020","chunk-647121e7","chunk-46875557","chunk-0bc7cad0","chunk-2d2105d3","chunk-2d230fe7"],{"0aeb":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return l}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/post",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/post/"+e,method:"get"})}function r(e){return Object(s["a"])({url:"/api/v1/post",method:"post",data:e})}function i(e,t){return Object(s["a"])({url:"/api/v1/post/"+t,method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/post",method:"delete",data:e})}},"0c55":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"系统登录日志状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"ip地址",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入ip地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysLoginLog:remove"],expression:"['admin:sysLoginLog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysloginlogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"username","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"msg","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.statusFormat(t.row))+" ")]}}])}),a("el-table-column",{attrs:{label:"ip地址",align:"center",prop:"ipaddr"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("IP: "+e._s(t.row.ipaddr))]),a("p",[e._v("归属地: "+e._s(t.row.loginLocation))]),a("p",[e._v("浏览器: "+e._s(t.row.browser))]),a("p",[e._v("系统: "+e._s(t.row.os))]),a("p",[e._v("固件: "+e._s(t.row.platform))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.ipaddr)+" ")])])]}}])}),a("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysLoginLog:remove"],expression:"['admin:sysLoginLog:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("b775"));function r(e){return Object(n["a"])({url:"/api/v1/sys-login-log",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/api/v1/sys-login-log/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/sys-login-log",method:"delete",data:e})}var c={name:"SysLoginLogManage",components:{},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,fileOpen:!1,fileIndex:void 0,typeOptions:[],sysloginlogList:[],statusOptions:[],queryParams:{pageIndex:1,pageSize:10,username:void 0,status:void 0,ipaddr:void 0,loginLocation:void 0,createdAtOrder:"desc"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.sysloginlogList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={ID:void 0,username:void 0,status:void 0,ipaddr:void 0,loginLocation:void 0,browser:void 0,os:void 0,platform:void 0,loginTime:void 0,remark:void 0,msg:void 0},this.resetForm("form")},getImgList:function(){this.form[this.fileIndex]=this.$refs["fileChoose"].resultList[0].fullUrl},fileClose:function(){this.fileOpen=!1},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加系统登录日志",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改系统登录日志",t.isEdit=!0}))},handleDelete:function(e){var t=this,a=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},"0ca1":function(e,t,a){"use strict";a("99d2")},"0dee":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"48px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",{attrs:{label:"地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.path,callback:function(t){e.$set(e.queryParams,"path",t)},expression:"queryParams.path"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"action"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.action,callback:function(t){e.$set(e.queryParams,"action",t)},expression:"queryParams.action"}},[a("el-option",{attrs:{value:"GET"}},[e._v("GET")]),a("el-option",{attrs:{value:"POST"}},[e._v("POST")]),a("el-option",{attrs:{value:"PUT"}},[e._v("PUT")]),a("el-option",{attrs:{value:"DELETE"}},[e._v("DELETE")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysapiList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[a("el-table-column",{attrs:{label:"标题","header-align":"center",align:"left",prop:"title",fixed:"left",sortable:"custom",width:"260px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["SYS"==t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"Request Info","header-align":"center",align:"left",prop:"path",sortable:"custom","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",["SYS"==t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]),a("p",[e._v("Handle: "+e._s(t.row.handle))]),a("p",[e._v("Method: "),"GET"==t.row.action?a("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e()],1),a("p",[e._v("接口类型: "+e._s(t.row.type))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["GET"==t.row.action?a("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e(),e._v(" "+e._s(t.row.path)+" ")],1)])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"155px",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysApi:edit"],expression:"['admin:sysApi:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-drawer",{ref:"drawer",attrs:{title:e.title,"before-close":e.handleClose,visible:e.open,direction:"rtl","custom-class":"demo-drawer"},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Handle",prop:"handle"}},[a("el-input",{attrs:{placeholder:"handle"},model:{value:e.form.handle,callback:function(t){e.$set(e.form,"handle",t)},expression:"form.handle"}})],1),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{value:"SYS"}},[e._v("SYS")]),a("el-option",{attrs:{value:"BUS"}},[e._v("BUS")])],1)],1),a("el-form-item",{attrs:{label:"Method",prop:"action"}},[a("el-select",{attrs:{placeholder:"请选择方式",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[a("el-option",{attrs:{value:"GET"}},[e._v("GET")]),a("el-option",{attrs:{value:"POST"}},[e._v("POST")]),a("el-option",{attrs:{value:"PUT"}},[e._v("PUT")]),a("el-option",{attrs:{value:"DELETE"}},[e._v("DELETE")])],1)],1),a("el-form-item",{attrs:{label:"地址",prop:"path"}},[a("el-input",{attrs:{disabled:e.isEdit,placeholder:"地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)])],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("95b0")),r={name:"SysApiManage",components:{},data:function(){return{dialog:!1,loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],sysapiList:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,name:void 0,title:void 0,path:void 0,action:void 0,parentId:void 0},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],path:[{required:!0,message:"地址不能为空",trigger:"blur"}],action:[{required:!0,message:"类型不能为空",trigger:"blur"}],parentId:[{required:!0,message:"按钮id不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{handleClose:function(e){},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.sysapiList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,title:void 0,path:void 0,paths:void 0,action:void 0,parentId:void 0,sort:void 0},this.resetForm("form")},parentIdFormat:function(e){return this.selectItemsLabel(this.parentIdOptions,e.parentId)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加接口管理",this.isEdit=!1},handleSortChang:function(e,t,a){t=e.prop,a=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===a?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===a?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["c"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改接口管理",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(n["e"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},i=r,l=a("2877"),c=Object(l["a"])(i,s,o,!1,null,null,null);t["default"]=c.exports},"0e06":function(e,t,a){"use strict";a("4e5c")},"0fa8":function(e,t,a){},1:function(e,t){},"11d5":function(e,t,a){"use strict";a("ec61")},"189a":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return c}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/dict/type",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/dict/type/"+e,method:"get"})}function r(e){return Object(s["a"])({url:"/api/v1/dict/type",method:"post",data:e})}function i(e){return Object(s["a"])({url:"/api/v1/dict/type/"+e.id,method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/dict/type",method:"delete",data:e})}function c(){return Object(s["a"])({url:"/api/v1/dict/type-option-select",method:"get"})}},"1bfd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-row",{staticClass:"mb10",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:8}},[e.info.cpu?a("el-card",{staticClass:"box-card",attrs:{shadow:"always","body-style":{paddingTop:"0 !important"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:8}},[a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" "+e._s(e.info.location)+" ")])],1),a("el-col",{staticStyle:{"line-height":"28px","text-align":"center"},attrs:{sm:24,md:8}},[e._v(" Aliyun ")])],1)],1),a("div",{staticClass:"monitor",staticStyle:{"padding-top":"0px"}},[a("div",{staticClass:"monitor-content"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:12}},[a("Cell",{attrs:{label:"系统",value:e.info.os.goOs,border:""}}),a("Cell",{attrs:{label:"内存",value:e.info.mem.used+"MB/"+e.info.mem.total+"MB",border:""}}),a("Cell",{attrs:{label:"交换",value:e.info.swap.used+"/"+e.info.swap.total,border:""}})],1),a("el-col",{attrs:{sm:24,md:12}},[a("Cell",{attrs:{label:"时间",value:e.info.os.time,border:""}}),a("Cell",{attrs:{label:"在线",value:e.info.bootTime+"小时",border:""}}),a("Cell",{attrs:{label:"硬盘",value:e.info.disk.used+"GB/"+e.info.disk.total+"GB",border:""}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[a("el-col",{attrs:{sm:8,md:8}},[e._v(" 下载"),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-col",{staticClass:"line-value",attrs:{sm:16,md:16}},[e._v(" "+e._s(e.info.net.in)+"KB ")])],1),a("el-col",{staticClass:"line",attrs:{sm:12,md:12}},[a("el-col",{attrs:{sm:8,md:8}},[e._v(" 上传"),a("i",{staticClass:"el-icon-caret-top"})]),a("el-col",{staticClass:"line-value",attrs:{sm:16,md:16}},[e._v(" "+e._s(e.info.net.out)+"KB ")])],1)],1),a("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:4}},[e._v(" CPU ")]),a("el-col",{attrs:{sm:24,md:20}},[a("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.cpu.percent}})],1)],1),a("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:4}},[e._v(" RAM ")]),a("el-col",{attrs:{sm:24,md:20}},[a("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.mem.percent}})],1)],1),a("el-row",{staticClass:"monitor-progress",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:4}},[e._v(" 硬盘 ")]),a("el-col",{attrs:{sm:24,md:20}},[a("el-progress",{attrs:{color:e.customColors,"text-inside":!0,"stroke-width":24,percentage:e.info.disk.percent}})],1)],1)],1)])]):e._e()],1),e.info.os?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),a("div",{staticClass:"monitor"},[a("Cell",{attrs:{label:"主机名称",value:e.info.os.hostName,border:""}}),a("Cell",{attrs:{label:"操作系统",value:e.info.os.goOs,border:""}}),a("Cell",{attrs:{label:"服务器IP",value:e.info.os.ip,border:""}}),a("Cell",{attrs:{label:"系统架构",value:e.info.os.arch,border:""}}),a("Cell",{attrs:{label:"CPU",value:e.info.cpu.cpuInfo[0].modelName,border:""}}),a("Cell",{attrs:{label:"当前时间",value:e.info.os.time}})],1)]):e._e()],1)]},proxy:!0}])})],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell"},[a("div",{staticClass:"cell-inner",class:e.border?"border":""},[a("div",{staticClass:"cell-item"},[a("div",{staticClass:"cell-item-label"},[e.label?a("span",[e._v(" "+e._s(e.label)+" ")]):a("span",[e._t("label")],2)]),a("div",{staticClass:"cell-item-value"},[e.value?a("span",[e._v(" "+e._s(e.value)+" ")]):a("span",[e._t("value")],2)])]),a("div",{staticClass:"cell-item mt5"},[e.extra?a("span",[e._v(e._s(e.extra))]):a("span",[e._t("extra")],2)])])])},r=[],i={name:"Cell",props:{border:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:String,default:""},extra:{type:String,default:""}}},l=i,c=(a("c9b5"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"8a6f07fe",null),d=u.exports,m=a("b775");function p(){return Object(m["a"])({url:"/api/v1/server-monitor",method:"get"})}var f={name:"Monitor",components:{Cell:d},data:function(){return{info:{},customColors:[{color:"#13ce66",percentage:20},{color:"#1890ff",percentage:40},{color:"#e6a23c",percentage:60},{color:"#1989fa",percentage:80},{color:"#F56C6C",percentage:100}]}},created:function(){var e=this;this.getServerInfo(),setInterval((function(){e.getServerInfo()}),5e3)},methods:{getServerInfo:function(){var e=this;p().then((function(t){200===t.code&&(e.info=t)}))}}},h=f,v=(a("d828"),Object(c["a"])(h,s,o,!1,null,"342f3ddf",null));t["default"]=v.exports},"1db4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pic-404"},[s("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),s("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),s("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),s("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],n={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},r=n,i=(a("89a2"),a("2877")),l=Object(i["a"])(r,s,o,!1,null,"26fcd89f",null);t["default"]=l.exports},"1ef6":function(e,t,a){},2:function(e,t){},2044:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],n=a("313e"),r=a.n(n),i=a("a7dc");a("817d");var l={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);t["default"]=d.exports},"24e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" Oops! ")]),e._v(" gif来源"),a("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面 "),a("h2",[e._v("你没有权限去该页面")]),a("h6",[e._v("如有不满请联系你领导")]),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/dashboard"}},[e._v(" 回首页 ")])],1),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},o=[],n=a("cc6c"),r=a.n(n),i={name:"Page401",data:function(){return{errGif:r.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=i,c=(a("acdd"),a("2877")),u=Object(c["a"])(l,s,o,!1,null,"35ca77fc",null);t["default"]=u.exports},2544:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)}}})]),a("section",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:e.allChecked},on:{change:function(t){return e.toggleAll({done:!e.allChecked})}}}),a("label",{attrs:{for:"toggle-all"}}),a("ul",{staticClass:"todo-list"},e._l(e.filteredTodos,(function(t,s){return a("todo",{key:s,attrs:{todo:t},on:{toggleTodo:e.toggleTodo,editTodo:e.editTodo,deleteTodo:e.deleteTodo}})})),1)]),a("footer",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[e._v(e._s(e.remaining))]),e._v(" "+e._s(e._f("pluralize")(e.remaining,"item"))+" left ")]),a("ul",{staticClass:"filters"},e._l(e.filters,(function(t,s){return a("li",{key:s},[a("a",{class:{selected:e.visibility===s},on:{click:function(t){t.preventDefault(),e.visibility=s}}},[e._v(e._s(e._f("capitalize")(s)))])])})),0)])])},o=[],n=(a("4de4"),a("d3b7"),a("fb6a"),a("e9c4"),a("498a"),a("a434"),a("159b"),a("ced4")),r="todos",i={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.done}))},completed:function(e){return e.filter((function(e){return e.done}))}},l=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],c={components:{Todo:n["default"]},filters:{pluralize:function(e,t){return 1===e?t:t+"s"},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},data:function(){return{visibility:"all",filters:i,todos:l}},computed:{allChecked:function(){return this.todos.every((function(e){return e.done}))},filteredTodos:function(){return i[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(e){return!e.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(r,JSON.stringify(this.todos))},addTodo:function(e){var t=e.target.value;t.trim()&&(this.todos.push({text:t,done:!1}),this.setLocalStorage()),e.target.value=""},toggleTodo:function(e){e.done=!e.done,this.setLocalStorage()},deleteTodo:function(e){this.todos.splice(this.todos.indexOf(e),1),this.setLocalStorage()},editTodo:function(e){var t=e.todo,a=e.value;t.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(e){return!e.done})),this.setLocalStorage()},toggleAll:function(e){var t=this,a=e.done;this.todos.forEach((function(e){e.done=a,t.setLocalStorage()}))}}},u=c,d=(a("35117"),a("2877")),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},"26fc":function(e,t,a){e.exports=a.p+"img/404_cloud.58bceed4.png"},"29d6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-alert",{attrs:{title:"⚠️表字段中的id、create_by、update_by、created_at、updated_at、deleted_at的字段在此列表中已经隐藏",type:"warning","show-icon":""}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.columns,"max-height":e.tableHeight}},[a("el-table-column",{attrs:{fixed:"",label:"序号",type:"index",width:"50"}}),a("el-table-column",{attrs:{fixed:"",label:"字段列名",prop:"columnName",width:"150","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{fixed:"",label:"字段描述",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType",width:"120","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"go类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.goType,callback:function(a){e.$set(t.row,"goType",a)},expression:"scope.row.goType"}},[a("el-option",{attrs:{label:"int64",value:"int64"}}),a("el-option",{attrs:{label:"string",value:"string"}})],1)]}}])}),a("el-table-column",{attrs:{label:"go属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.goField,callback:function(a){e.$set(t.row,"goField",a)},expression:"scope.row.goField"}})]}}])}),a("el-table-column",{attrs:{label:"json属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.jsonField,callback:function(a){e.$set(t.row,"jsonField",a)},expression:"scope.row.jsonField"}})]}}])}),a("el-table-column",{attrs:{label:"编辑",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),a("el-table-column",{attrs:{label:"列表",width:"70","render-header":e.renderHeadeList,"cell-style":{"text-align":"center"}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),a("el-table-column",{attrs:{label:"查询",width:"70","render-header":e.renderHeadeSearch,"cell-style":{"text-align":"center"}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),a("el-table-column",{attrs:{label:"查询方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),a("el-option",{attrs:{label:"!=",value:"NE"}}),a("el-option",{attrs:{label:">",value:"GT"}}),a("el-option",{attrs:{label:">=",value:"GTE"}}),a("el-option",{attrs:{label:"<",value:"LT"}}),a("el-option",{attrs:{label:"<=",value:"LTE"}}),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}})],1)]}}])}),a("el-table-column",{attrs:{label:"必填",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),a("el-table-column",{attrs:{label:"显示类型",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),a("el-option",{attrs:{label:"下拉框",value:"select"}}),a("el-option",{attrs:{label:"单选框",value:"radio"}}),a("el-option",{attrs:{label:"文本域",value:"textarea"}})],1)]}}])}),a("el-table-column",{attrs:{label:"字典类型",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])}),a("el-table-column",{attrs:{label:"关系表",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(a){return e.handleChangeConfig(t.row,t.$index)}},model:{value:t.row.fkTableName,callback:function(a){e.$set(t.row,"fkTableName",a)},expression:"scope.row.fkTableName"}},e._l(e.tableTree,(function(t){return a("el-option",{key:t.tableName,attrs:{label:t.tableName,value:t.tableName}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.tableName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tableComment))])])})),1)]}}])}),a("el-table-column",{attrs:{label:"关系表key",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.fkLabelId,callback:function(a){e.$set(t.row,"fkLabelId",a)},expression:"scope.row.fkLabelId"}},e._l(t.row.fkCol,(function(t){return a("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.jsonField}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.jsonField))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])}),a("el-table-column",{attrs:{label:"关系表value",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.fkLabelName,callback:function(a){e.$set(t.row,"fkLabelName",a)},expression:"scope.row.fkLabelName"}},e._l(t.row.fkCol,(function(t){return a("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.jsonField}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.jsonField))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},o=[],n=(a("d3b7"),a("25f0"),a("159b"),a("4de4"),a("3ca3"),a("ddb0"),a("d81d"),a("4aab")),r=a("189a"),i=a("651f"),l=a("2d1d"),c={name:"GenEdit",components:{basicInfoForm:i["default"],genInfoForm:l["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",columns:[],tableTree:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this;Object(n["d"])().then((function(t){e.tableTree=t.data,e.tableTree.unshift({tableId:0,className:"请选择"})}));var t=this.$route.query.tableId;t&&(Object(n["c"])(t).then((function(t){e.columns=t.data.list,e.info=t.data.info,e.info.isDataScope=e.info.isDataScope.toString(),e.info.isActions=e.info.isActions.toString(),e.info.isAuth=e.info.isAuth.toString(),e.columns.forEach((function(t){e.tableTree.filter((function(e){e.tableId===t.fkTableNameClass&&(t.fkCol=e.columns||[{columnId:0,columnName:"请选择"}])}))}))})),Object(r["e"])().then((function(t){e.dictOptions=t.data})))},methods:{renderHeadeUpdate:function(e,t){var a=t.column;t.$index;return e("div",[e("span",a.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"270",trigger:"hover"}},[e("p","是否在表单编辑时能够编辑，打√表示需要",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},renderHeadeList:function(e,t){var a=t.column;t.$index;return e("div",[e("span",a.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"260",trigger:"hover"}},[e("p","是否在列表中展示，打√表示需要展示",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},renderHeadeSearch:function(e,t){var a=t.column;t.$index;return e("div",[e("span",a.label+"  ",{align:"center",marginTop:"0px"}),e("el-popover",{props:{placement:"top-start",width:"270",trigger:"hover"}},[e("p","是都当做搜索条件，打√表示做为搜索条件",{class:"text-align: center; margin: 0"}),e("i",{class:"el-icon-question",style:"color:#ccc,padding-top:5px",slot:"reference"})])])},handleChangeConfig:function(e,t){this.tableTree.filter((function(t){t.tableName===e.fkTableName&&(e.fkCol=t.columns)}))},submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(s){var o=s.every((function(e){return!!e}));if(o){var r=Object.assign({},t.model,a.model);r.columns=e.columns,r.params={treeCode:r.treeCode,treeName:r.treeName,treeParentCode:r.treeParentCode},r.isDataScope=JSON.parse(r.isDataScope),r.isActions=JSON.parse(r.isActions),r.isAuth=JSON.parse(r.isAuth),Object(n["k"])(r).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getTables:function(){var e=this;Object(n["d"])().then((function(t){e.tableTree=t.data,e.tableTree.unshift({tableId:0,className:"请选择"})}))},getTablesCol:function(e){return this.tableTree.filter((function(t){if(t.tableName===e)return t.columns}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/dev-tools/gen",query:{t:Date.now()}})}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},"2a91":function(e,t,a){},"2d1d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),a("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"关系表（增删改查）",value:"crud"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 应用名 "),a("el-tooltip",{attrs:{content:"应用名，例如：在app文件夹下将该功能发到那个应用中，默认：admin",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 业务名 "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 功能描述 "),a("el-tooltip",{attrs:{content:"同步的数据库表备注，用作类描述，例如：用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 接口路径 "),a("el-tooltip",{attrs:{content:"接口路径，例如：api/v1/{sys-user}",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}},[a("template",{slot:"prepend"},[e._v("api/{version}/")]),a("template",{slot:"append"},[e._v("...")])],2)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树编码字段 "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树父编码字段 "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树名称字段 "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},o=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"},{pattern:/^[a-z]*$/g,trigger:"blur",message:"只允许小写字母,例如 system 格式"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"},{pattern:/^[a-z\-]*[a-z]$/g,trigger:"blur",message:"只允许小写字母,例如 sys-demo 格式"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"},{pattern:/^[a-z][A-Za-z]+$/,trigger:"blur",message:"校验规则:  只允许输入字母 a-z 或大写 A-Z ，并且小写字母开头"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},"2dde":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},o=[],n=a("51fa"),r={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["j"])(e.user).then((function(t){200===t.code?e.msgSuccess(t.msg):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},i=r,l=a("2877"),c=Object(l["a"])(i,s,o,!1,null,null,null);t["default"]=c.exports},"2f3f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("orderNoFilter")(t.row.order_no))+" ")]}}])}),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ¥"+e._s(e._f("toThousandFilter")(t.row.price))+" ")]}}])}),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(s.status)}},[e._v(" "+e._s(s.status)+" ")])]}}])})],1)},o=[],n=(a("fb6a"),a("b775"));function r(e){return Object(n["a"])({url:"/transaction/list",method:"get",params:e})}var i={filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]},orderNoFilter:function(e){return e.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;r().then((function(t){e.list=t.data.items.slice(0,8)}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},3:function(e,t){},"332d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:add"],expression:"['admin:sysDept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:edit"],expression:"['admin:sysDept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:add"],expression:"['admin:sysDept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),0!=t.row.p_id?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDept:remove"],expression:"['admin:sysDept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级部门","is-disabled":e.isEdit},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("4e82"),a("94d5")),r=a("ca17"),i=a.n(r),l=(a("542c"),{name:"SysDeptManage",components:{Treeselect:i.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",isEdit:!1,open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],leader:[{required:!0,message:"负责人不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.deptList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(n["d"])().then((function(a){if(t.deptOptions=[],"update"===e){var s={deptId:0,deptName:"主类目",children:[],isDisabled:!0};s.children=a.data,t.deptOptions.push(s)}else{var o={deptId:0,deptName:"主类目",children:[]};o.children=a.data,t.deptOptions.push(o)}}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,parseInt(e.status))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,sort:10,leader:void 0,phone:void 0,email:void 0,status:"2"}},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect("add"),void 0!==e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update"),Object(n["c"])(e.deptId).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.form.sort=String(t.form.sort),t.open=!0,t.title="修改部门",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),e.form.sort=parseInt(e.form.sort),void 0!==e.form.deptId?Object(n["g"])(e.form,e.form.deptId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.deptId&&[e.deptId]||this.ids;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}}),c=l,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);t["default"]=d.exports},35117:function(e,t,a){"use strict";a("e121")},"36ef":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],n=a("313e"),r=a.n(n),i=a("a7dc");a("817d");var l={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);t["default"]=d.exports},"380d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])])]},proxy:!0}])})},o=[],n={name:"Swagger",components:{},data:function(){return{src:"/swagger/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},3823:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},o=[],n=(a("d9e2"),a("51fa")),r={data:function(){var e=this,t=function(t,a,s){e.user.newPassword!==a?s(new Error("两次输入的密码不一致")):s()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["k"])(e.user.oldPassword,e.user.newPassword).then((function(t){200===t.code?e.msgSuccess(t.msg):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},i=r,l=a("2877"),c=Object(l["a"])(i,s,o,!1,null,null,null);t["default"]=c.exports},"3f47":function(e,t,a){},"40a6":function(e,t,a){},"42e1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"48px"}},[a("el-form-item",{attrs:{label:"名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),a("el-form-item",{attrs:{label:"键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),a("el-form-item",{attrs:{label:"内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:add"],expression:"['admin:sysConfig:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:edit"],expression:"['admin:sysConfig:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:remove"],expression:"['admin:sysConfig:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:export"],expression:"['admin:sysConfig:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编码",sortable:"custom",width:"75",prop:"id"}}),a("el-table-column",{attrs:{label:"名称",sortable:"custom",prop:"configName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"键名",sortable:"custom",prop:"configKey"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("键值: "+e._s(t.row.configValue))]),a("p",[e._v("UI参数: "),"2"==t.row.isFrontend?a("el-tag",[e._v("否")]):e._e(),"1"==t.row.isFrontend?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e()],1),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.configKey)+" ")])])]}}])}),a("el-table-column",{attrs:{label:"内置",sortable:"custom",prop:"configType",formatter:e.typeFormat,width:"80"}}),a("el-table-column",{attrs:{label:"备注",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",sortable:"custom",prop:"createdAt",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作","class-name":"small-padding fixed-width",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:edit"],expression:"['admin:sysConfig:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysConfig:remove"],expression:"['admin:sysConfig:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称",disabled:e.isEdit},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名",disabled:e.isEdit},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"前台显示",prop:"isFrontend"}},[a("el-select",{attrs:{placeholder:"是否前台显示",clearable:"",size:"small"},model:{value:e.form.isFrontend,callback:function(t){e.$set(e.form,"isFrontend",t)},expression:"form.isFrontend"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("cecf")),r=a("ed08"),i={name:"SysConfigManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],order:"createdAtOrder",title:"",isEdit:!1,open:!1,typeOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0,createdAtOrder:"desc"},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}],isFrontend:[{required:!0,message:"是否前台显示不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.data.list,e.total=t.data.count,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",isFrontend:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.queryParams["createdAtOrderOrder"]="desc",this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数",this.isEdit=!1},handleSortChang:function(e,t,a){t=e.prop,a=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===a?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===a?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["c"])(a).then((function(e){t.form=e.data,t.form.isFrontend=String(t.form.isFrontend),t.open=!0,t.title="修改参数",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.isFrontend=parseInt(e.form.isFrontend),void 0!==e.form.id?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["参数主键","参数名称","参数键名","参数键值","备注","创建时间"],s=["configId","configName","configKey","configValue","remark","createdAt"],o=e.configList,n=Object(r["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"参数设置",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},"4a5b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-position":"left","label-width":"68px"}},[a("el-form-item",{attrs:{label:"名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"定时任务任务分组",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"定时任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:add"],expression:"['job:sysJob:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:edit"],expression:"['job:sysJob:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:log"],expression:"['job:sysJob:log']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleLog}},[e._v("日志 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sysjobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编码",align:"center",prop:"jobId","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务分组",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.jobGroupFormat(t.row))+" ")]}}])}),a("el-table-column",{attrs:{label:"cron表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"调用目标",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.statusFormat(t.row))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:edit"],expression:"['job:sysJob:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改 ")]),0!==t.row.entry_id&&1!=t.row.status?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleRemove(t.row)}}},[e._v("停止 ")]):e._e(),0==t.row.entry_id&&1!=t.row.status?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:start"],expression:"['job:sysJob:start']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleStart(t.row)}}},[e._v("启动 ")]):e._e(),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["job:sysJob:remove"],expression:"['job:sysJob:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标",prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 调用目标 "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 调用示例：func (t *EXEC) ExamplesNoParam(){..} 填写 ExamplesNoParam 即可； "),a("br"),e._v("参数说明：目前不支持带参调用 ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"调用目标"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目标参数",prop:"args"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 目标参数 "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 参数示例：有参：请以string格式填写；无参：为空； "),a("br"),e._v("参数说明：目前仅支持函数调用 ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"目标参数"},model:{value:e.form.args,callback:function(t){e.$set(e.form,"args",t)},expression:"form.args"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"cron表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用类型",prop:"jobType"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.jobType,callback:function(t){e.$set(e.form,"jobType",t)},expression:"form.jobType"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("接口")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("函数")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})],1)},o=[],n=(a("d81d"),a("b775"));function r(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/api/v1/sysjob/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/api/v1/sysjob",method:"delete",data:e})}function d(e){return Object(n["a"])({url:"/api/v1/job/remove/"+e,method:"get"})}function m(e){return Object(n["a"])({url:"/api/v1/job/start/"+e,method:"get"})}var p={name:"SysJobManage",components:{},data:function(){return{loading:!0,id:0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],sysjobList:[],jobGroupOptions:[],statusOptions:[],queryParams:{pageIndex:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobId:[{required:!0,message:"编码不能为空",trigger:"blur"}],jobName:[{required:!0,message:"名称不能为空",trigger:"blur"}],jobGroup:[{required:!0,message:"任务分组不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron表达式不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.sysjobList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,cronExpression:void 0,invokeTarget:void 0,args:void 0,misfirePolicy:1,concurrent:1,jobType:1,status:void 0},this.resetForm("form")},jobGroupFormat:function(e){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加定时任务",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;i(a).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.form.misfirePolicy=String(t.form.misfirePolicy),t.form.concurrent=String(t.form.concurrent),t.form.jobType=String(t.form.jobType),t.open=!0,t.title="修改定时任务",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.jobId?(e.form.status=parseInt(e.form.status),e.form.misfirePolicy=parseInt(e.form.misfirePolicy),e.form.concurrent=parseInt(e.form.concurrent),e.form.jobType=parseInt(e.form.jobType),c(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.status=parseInt(e.form.status),e.form.misfirePolicy=parseInt(e.form.misfirePolicy),e.form.concurrent=parseInt(e.form.concurrent),e.form.jobType=parseInt(e.form.jobType),l(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},handleDelete:function(e){var t=this,a=e.jobId&&[e.jobId]||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleStart:function(e){var t=this;this.$confirm('是否确认启动编号为"'+e.jobId+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(e.jobId)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleRemove:function(e){var t=this;this.$confirm('是否确认关闭编号为"'+e.jobId+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.jobId)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleLog:function(){this.$router.push({name:"job_log",params:{}})}}},f=p,h=a("2877"),v=Object(h["a"])(f,s,o,!1,null,null,null);t["default"]=v.exports},"4aab":function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"k",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"i",(function(){return p})),a.d(t,"d",(function(){return f}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/sys/tables/page",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/db/tables/page",method:"get",params:e})}function r(e){return Object(s["a"])({url:"/api/v1/sys/tables/info/"+e,method:"get"})}function i(e){return Object(s["a"])({url:"/api/v1/sys/tables/info",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/sys/tables/info",method:"post",params:e})}function c(e){return Object(s["a"])({url:"/api/v1/gen/preview/"+e,method:"get"})}function u(e){return Object(s["a"])({url:"/api/v1/sys/tables/info/"+e,method:"delete"})}function d(e){return Object(s["a"])({url:"/api/v1/gen/apitofile/"+e,method:"get"})}function m(e,t){return Object(s["a"])({url:"/api/v1/gen/toproject/"+e+"?ischeckrole="+t,method:"get"})}function p(e){return Object(s["a"])({url:"/api/v1/gen/todb/"+e,method:"get"})}function f(){return Object(s["a"])({url:"/api/v1/gen/tabletree",method:"get"})}},"4e5c":function(e,t,a){},"50ce":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v("Filename: ")]),a("el-input",{staticStyle:{width:"345px"},attrs:{placeholder:"Please enter the file name (default excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)},o=[],n={props:{value:{type:String,default:""}},computed:{filename:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},"51fa":function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"j",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"f",(function(){return h}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/sys-user",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/sys-user/"+e,method:"get"})}function r(e){return Object(s["a"])({url:"/api/v1/sys-user",method:"post",data:e})}function i(e){return Object(s["a"])({url:"/api/v1/sys-user",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/sys-user",method:"delete",data:e})}function c(e){return Object(s["a"])({url:"/api/v1/sys-user/export",method:"get",params:e})}function u(e,t){var a={userId:e,password:t};return Object(s["a"])({url:"/api/v1/user/pwd/reset",method:"put",data:a})}function d(e){var t={userId:e.userId,status:e.status};return Object(s["a"])({url:"/api/v1/user/status",method:"put",data:t})}function m(){return Object(s["a"])({url:"/api/v1/sys-user/importTemplate",method:"get"})}function p(e,t){var a={oldPassword:e,newPassword:t};return Object(s["a"])({url:"/api/v1/user/pwd/set",method:"put",data:a})}function f(e){return Object(s["a"])({url:"/api/v1/user/avatar",method:"post",data:e})}function h(){return Object(s["a"])({url:"/api/v1/user/profile",method:"get"})}},5211:function(e,t,a){},5905:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},o=[],n=a("2877"),r={},i=Object(n["a"])(r,s,o,!1,null,null,null);t["default"]=i.exports},"5ec1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:add"],expression:"['admin:sysDictData:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:edit"],expression:"['admin:sysDictData:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:remove"],expression:"['admin:sysDictData:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编码",width:"80",align:"center",prop:"dictCode"}}),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:edit"],expression:"['admin:sysDictData:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictData:remove"],expression:"['admin:sysDictData:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签",disabled:e.isEdit},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值",disabled:e.isEdit},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("f6d9")),r=a("189a"),i={name:"SysDictDataManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",isEdit:!1,open:!1,statusOptions:[],typeOptions:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(r["c"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(r["d"])({pageSize:1e3}).then((function(t){e.typeOptions=t.data.list}))},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"2",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.isEdit=!1,this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改字典数据",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.dictCode?Object(n["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dictCode&&[e.dictCode]||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},"5f141":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return c}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/menu",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/menu/"+e,method:"get"})}function r(e){return Object(s["a"])({url:"/api/v1/roleMenuTreeselect/"+e,method:"get"})}function i(e){return Object(s["a"])({url:"/api/v1/menu",method:"post",data:e})}function l(e,t){return Object(s["a"])({url:"/api/v1/menu/"+t,method:"put",data:e})}function c(e){return Object(s["a"])({url:"/api/v1/menu",method:"delete",data:e})}},"5f84":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],n=a("313e"),r=a.n(n),i=a("a7dc");a("817d");var l=6e3,c={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:l},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:l},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:l}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},"651f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tableName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 数据表名称 "),a("el-tooltip",{attrs:{content:"数据库表名称，针对gorm对应的table()使用，⚠️这里必须是蛇形结构",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入表名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tableComment"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单名称 "),a("el-tooltip",{attrs:{content:"同步的数据库表名称，生成配置数据时，用作菜单名称",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"className"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 结构体模型名称 "),a("el-tooltip",{attrs:{content:"结构体模型名称，代码中的struct名称定义使用",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者名称",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入作者名称"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},o=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"},{pattern:/^[a-z\._]*$/g,trigger:"blur",message:"只允许小写字母,例如 sys_demo 格式"}],tableComment:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],className:[{required:!0,message:"请输入模型名称",trigger:"blur"},{pattern:/^[A-Z][A-z0-9]*$/g,trigger:"blur",message:"必须以大写字母开头,例如 SysDemo 格式"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"},{pattern:/^[A-Za-z]+$/,trigger:"blur",message:"校验规则:  只允许输入字母 a-z 或大写 A-Z"}]}}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},"662f":function(e,t,a){"use strict";a("3f47")},"66d3":function(e,t,a){},6768:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 新用户 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 消息 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 金额 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 销量 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},o=[],n=a("ec1b"),r=a.n(n),i={components:{CountTo:r.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},l=i,c=(a("0e06"),a("2877")),u=Object(c["a"])(l,s,o,!1,null,"b29af76c",null);t["default"]=u.exports},"6efe":function(e,t,a){"use strict";a("66d3")},7115:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-activity"},[a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/57ed425a-c71e-4201-9428-68760c0537c4.jpg"+e.avatarPrefix}}),a("span",{staticClass:"username text-muted"},[e._v("Iron Man")]),a("span",{staticClass:"description"},[e._v("Shared publicly - 7:30 PM today")])]),a("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),a("ul",{staticClass:"list-inline"},[e._m(0),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/9e2a5d0a-bd5b-457f-ac8e-86554616c87b.jpg"+e.avatarPrefix}}),a("span",{staticClass:"username text-muted"},[e._v("Captain American")]),a("span",{staticClass:"description"},[e._v("Sent you a message - yesterday")])]),a("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),a("ul",{staticClass:"list-inline"},[e._m(1),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/fb57f689-e1ab-443c-af12-8d4066e202e2.jpg"+e.avatarPrefix}}),a("span",{staticClass:"username"},[e._v("Spider Man")]),a("span",{staticClass:"description"},[e._v("Posted 4 photos - 2 days ago")])]),a("div",{staticClass:"user-images"},[a("el-carousel",{attrs:{interval:6e3,type:"card",height:"220px"}},e._l(e.carouselImages,(function(t){return a("el-carousel-item",{key:t},[a("img",{staticClass:"image",attrs:{src:t+e.carouselPrefix}})])})),1)],1),a("ul",{staticClass:"list-inline"},[e._m(2),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like")],1)])])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v(" Share")])])}],n="?imageView2/1/w/80/h/80",r="?imageView2/2/h/440",i={data:function(){return{carouselImages:["https://wpimg.wallstcn.com/9679ffb0-9e0b-4451-9916-e21992218054.jpg","https://wpimg.wallstcn.com/bcce3734-0837-4b9f-9261-351ef384f75a.jpg","https://wpimg.wallstcn.com/d1d7b033-d75e-4cd6-ae39-fcd5f1c0a7c5.jpg","https://wpimg.wallstcn.com/50530061-851b-4ca5-9dc5-2fead928a939.jpg"],avatarPrefix:n,carouselPrefix:r}}},l=i,c=(a("fe22"),a("2877")),u=Object(c["a"])(l,s,o,!1,null,"1066d76c",null);t["default"]=u.exports},7214:function(e,t,a){},"77cb":function(e,t,a){"use strict";a("e22a")},"7b75":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],n=a("313e"),r=a.n(n),i=a("a7dc");a("817d");var l=3e3,c={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:l}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},"7faf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("About me")])]),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:e.user.avatar,height:"100px",width:"100px",hoverable:!1}},[a("div",[e._v("Hello")]),e._v(" "+e._s(e.user.role)+" ")])],1),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user.name))]),a("div",{staticClass:"user-role text-center text-muted"},[e._v(e._s(e._f("uppercaseFirst")(e.user.role)))])])]),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"education"}}),a("span",[e._v("Education")])],1),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"text-muted"},[e._v(" JS in Computer Science from the University of Technology ")])])]),a("div",{staticClass:"user-skills user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"skill"}}),a("span",[e._v("Skills")])],1),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"progress-item"},[a("span",[e._v("Vue")]),a("el-progress",{attrs:{percentage:70}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),a("el-progress",{attrs:{percentage:18}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("Css")]),a("el-progress",{attrs:{percentage:12}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)])])])])},o=[],n=a("3cbc"),r={components:{PanThumb:n["a"]},props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:""}}}}},i=r,l=(a("77cb"),a("2877")),c=Object(l["a"])(i,s,o,!1,null,"0b95296e",null);t["default"]=c.exports},8269:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),a("div",{staticStyle:{position:"relative"}},[a("pan-thumb",{staticClass:"panThumb",attrs:{image:e.avatar}}),a("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),a("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[a("span",[e._v("Vue")]),a("el-progress",{attrs:{percentage:70}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),a("el-progress",{attrs:{percentage:18}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("Css")]),a("el-progress",{attrs:{percentage:12}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},o=[],n=a("5530"),r=a("2f62"),i=a("3cbc"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"link--mallki",class:e.className,attrs:{href:"#"}},[e._v(" "+e._s(e.text)+" "),a("span",{attrs:{"data-letters":e.text}}),a("span",{attrs:{"data-letters":e.text}})])},c=[],u={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},d=u,m=(a("11d5"),a("2877")),p=Object(m["a"])(d,l,c,!1,null,null,null),f=p.exports,h={components:{PanThumb:i["a"],Mallki:f},filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:Object(n["a"])({},Object(r["b"])(["name","avatar","roles"]))},v=h,b=(a("da54"),a("0ca1"),Object(m["a"])(v,s,o,!1,null,"83af53d4",null));t["default"]=b.exports},8378:function(e,t,a){"use strict";a("d817")},"87e0":function(e,t,a){},"881d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:add"],expression:"['admin:sysUser:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:edit"],expression:"['admin:sysUser:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:remove"],expression:"['admin:sysUser:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{label:"编号",width:"75",prop:"userId",sortable:"custom"}}),a("el-table-column",{attrs:{label:"登录名",width:"105",prop:"username",sortable:"custom","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"部门",prop:"dept.deptName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机号",prop:"phone",width:"108"}}),a("el-table-column",{attrs:{label:"状态",width:"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"2","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"createdAt",sortable:"custom",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"160",fix:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:edit"],expression:"['admin:sysUser:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),1!==t.row.userId?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:remove"],expression:"['admin:sysUser:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysUser:resetPassword"],expression:"['admin:sysUser:resetPassword']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.postId,callback:function(t){e.$set(e.form,"postId",t)},expression:"form.postId"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px"},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或 "),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据 "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)]},proxy:!0}])})},o=[],n=(a("4de4"),a("d3b7"),a("d81d"),a("51fa")),r=a("5f87"),i=a("0aeb"),l=a("189e"),c=a("94d5"),u=a("ca17"),d=a.n(u),m=(a("542c"),{name:"SysUserManage",components:{Treeselect:d.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(r["a"])()},url:"/system/user/importData"},queryParams:{pageIndex:1,pageSize:10,username:void 0,phone:void 0,status:void 0,deptId:void 0},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getConfigKey("sys_user_initPassword").then((function(t){e.initPassword=t.data.configValue}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(){var e=this;Object(c["f"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId="/"+e.id+"/",this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.label,children:e.children}},handleSortChang:function(e,t,a){t=e.prop,a=e.order,""!==this.order&&this.order!==t+"Order"&&(this.queryParams[this.order]=void 0),"descending"===a?(this.queryParams[t+"Order"]="desc",this.order=t+"Order"):"ascending"===a?(this.queryParams[t+"Order"]="asc",this.order=t+"Order"):this.queryParams[t+"Order"]=void 0,this.getList()},handleStatusChange:function(e){var t=this,a="2"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.username+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="2"===e.status?"1":"2"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,username:void 0,nickName:void 0,password:void 0,phone:void 0,email:void 0,sex:void 0,status:"2",remark:void 0,postIds:void 0,roleIds:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.queryParams.deptId="",this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(i["d"])({pageSize:1e3}).then((function(t){e.postOptions=t.data.list})),Object(l["g"])({pageSize:1e3}).then((function(t){e.roleOptions=t.data.list})),this.open=!0,this.title="添加用户",this.form.password=this.initPassword},handleUpdate:function(e){var t=this;this.reset();var a=e.userId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户",t.form.password=""})),Object(i["d"])({pageSize:1e3}).then((function(e){t.postOptions=e.data.list})),Object(l["g"])({pageSize:1e3}).then((function(e){t.roleOptions=e.data.list}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.username+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var s=a.value;Object(n["i"])(e.userId,s).then((function(e){200===e.code?t.msgSuccess(e.msg):t.msgError(e.msg)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.userId?Object(n["j"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.userId&&[e.userId]||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(n["g"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),p=m,f=a("2877"),h=Object(f["a"])(p,s,o,!1,null,null,null);t["default"]=h.exports},"88c9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,"auto-crop":e.options.autoCrop,"auto-crop-width":e.options.autoCropWidth,"auto-crop-height":e.options.autoCropHeight,"fixed-box":e.options.fixedBox},on:{realTime:e.realTime}})],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v(" 上传 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},o=[],n=a("4360"),r=a("7e79"),i=a("51fa"),l={components:{VueCropper:r["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:n["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1===e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("upload[]",t),Object(i["l"])(a).then((function(t){200===t.code?(e.open=!1,e.options.img=""+t.data,e.msgSuccess(t.msg)):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);t["default"]=d.exports},"89a2":function(e,t,a){"use strict";a("1ef6")},"8a5b":function(e,t,a){},"8a81":function(e,t,a){},"8ad2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Cell Auto-Width: ")]),a("el-radio-group",{model:{value:e.autoWidth,callback:function(t){e.autoWidth=t},expression:"autoWidth"}},[a("el-radio",{attrs:{label:!0,border:""}},[e._v(" True ")]),a("el-radio",{attrs:{label:!1,border:""}},[e._v(" False ")])],1)],1)},o=[],n={props:{value:{type:Boolean,default:!0}},computed:{autoWidth:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},"913c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:add"],expression:"['admin:sysPost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:export"],expression:"['admin:sysPost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"岗位编号",width:"80",align:"center",prop:"postId"}}),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"sort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位顺序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("0aeb")),r=a("ed08"),i={name:"SysPostManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,sort:0,status:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;Object(n["c"])(a).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.postId?Object(n["e"])(e.form,e.form.postId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.postId&&[e.postId]||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["岗位编号","岗位编码","岗位名称","排序","创建时间"],s=["postId","postCode","postName","sort","createdAt"],o=e.postList,n=Object(r["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"岗位管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},"91c0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:add"],expression:"['admin:sysDictType:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:edit"],expression:"['admin:sysDictType:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:remove"],expression:"['admin:sysDictType:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:export"],expression:"['admin:sysDictType:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编号",width:"80",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:{name:"SysDictDataManage",params:{dictId:t.row.id}}}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:edit"],expression:"['admin:sysDictType:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysDictType:remove"],expression:"['admin:sysDictType:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称",disabled:e.isEdit},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型",disabled:e.isEdit},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("189a")),r=a("ed08"),i={name:"SysDictTypeManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",isEdit:!1,open:!1,statusOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,parseInt(e.status))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dictName:void 0,dictType:void 0,status:"2",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["c"])(a).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改字典类型",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.id?Object(n["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])({ids:a})})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["字典编号","字典名称","字典类型","状态","备注"],s=["id","dictName","dictType","status","remark"],o=e.typeList,n=Object(r["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"字典管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},"92f0e":function(e,t,a){},"94ce":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",[a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini"}},[e._v("状态")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"}},[e._v("清空")])],1)],1),a("el-row",{ref:"log",staticClass:"mb8",attrs:{gutter:10}},[a("el-scrollbar",{staticStyle:{height:"500px","background-color":"black",color:"cornflowerblue"}},[a("ul",{staticStyle:{"line-height":"25px","padding-top":"15px","padding-bottom":"15px","min-height":"500px",margin:"0","list-style-type":"none"}},e._l(e.arrs,(function(t,s){return a("li",{key:s},[e._v(" "+e._s(t)+" ")])})),0)])],1)],1)]},proxy:!0}])})},o=[],n=(a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b775"));function r(e,t){return Object(n["a"])({url:"/wslogout/"+e+"/"+t,method:"get"})}var i={name:"SysJobLogManage",data:function(){return{websock:null,arrs:[],id:void 0,group:void 0}},created:function(){this.id=this.guid(),this.group="log",this.initWebSocket()},destroyed:function(){console.log("断开websocket连接"),this.websock.close(),r(this.id,this.group).then((function(e){console.log(e.data)}))},methods:{initWebSocket:function(){console.log(this.$store.state.user.token);var e="ws://127.0.0.1:8000/ws/"+this.id+"/"+this.group+"?token="+this.$store.state.user.token;this.websock=new WebSocket(e),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("连接打开")},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(e){console.log(e.data),this.arrs.unshift(e.data)},websocketsend:function(e){},websocketclose:function(e){r(this.id,this.group).then((function(e){console.log(e.data)})),console.log("断开连接",e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},"94d5":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/dept",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/dept/"+e,method:"get"})}function r(){return Object(s["a"])({url:"/api/v1/deptTree",method:"get"})}function i(e){return Object(s["a"])({url:"/api/v1/roleDeptTreeselect/"+e,method:"get"})}function l(e){return Object(s["a"])({url:"/api/v1/dept",method:"post",data:e})}function c(e,t){return Object(s["a"])({url:"/api/v1/dept/"+t,method:"put",data:e})}function u(e){return Object(s["a"])({url:"/api/v1/dept",method:"delete",data:e})}},"95b0":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return l}));var s=a("b775");function o(e){return Object(s["a"])({url:"/api/v1/sys-api",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/sys-api/"+e,method:"get"})}function r(e){return Object(s["a"])({url:"/api/v1/sys-api",method:"post",data:e})}function i(e){return Object(s["a"])({url:"/api/v1/sys-api/"+e.id,method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/sys-api",method:"delete",data:e})}},"99d2":function(e,t,a){},"9d0f":function(e,t,a){"use strict";a("0fa8")},"9ed6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("div",{attrs:{id:"particles-js"}}),a("div",{staticClass:"login-weaper animated bounceInDown"},[a("div",{staticClass:"login-left"},[a("div",{staticClass:"login-time",domProps:{textContent:e._s(e.currentTime)}}),a("img",{staticClass:"img",attrs:{src:e.sysInfo.sys_app_logo,alt:""}}),a("p",{staticClass:"title",domProps:{textContent:e._s(e.sysInfo.sys_app_name)}})]),a("div",{staticClass:"login-border"},[a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-title"},[e._v("用户登录")]),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("i",{staticClass:"el-icon-user"})]),a("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),a("el-form-item",{staticStyle:{width:"66%",float:"left"},attrs:{prop:"code"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"validCode"}})],1),a("el-input",{ref:"username",staticStyle:{width:"75%"},attrs:{placeholder:"验证码",name:"username",type:"text",tabindex:"3",maxlength:"5",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),a("div",{staticClass:"login-code",staticStyle:{cursor:"pointer",width:"30%",height:"48px",float:"right","background-color":"#f0f1f5"}},[a("img",{staticStyle:{height:"48px",width:"100%",border:"1px solid rgba(0, 0, 0, 0.1)","border-radius":"5px"},attrs:{src:e.codeUrl},on:{click:e.getCode}})]),a("el-button",{staticStyle:{width:"100%",padding:"12px 20px","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1)],1)])]),a("el-dialog",{attrs:{title:"Or connect with",visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[e._v(" Can not be simulated on local, so please combine you own business simulation! ! ! "),a("br"),a("br"),a("br"),a("social-sign")],1),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"s-bottom-layer s-isindex-wrap",staticStyle:{visibility:"visible",width:"100%"},attrs:{id:"bottom_layer"}},[a("div",{staticClass:"s-bottom-layer-content"},[a("div",{staticClass:"lh"},[a("a",{staticClass:"text-color",attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(" 沪ICP备XXXXXXXXX号-1 ")])]),a("div",{staticClass:"open-content-info"},[a("div",{staticClass:"tip-hover-panel",staticStyle:{top:"-18px",right:"-12px"}},[a("div",{staticClass:"rest_info_tip"},[a("div",{staticClass:"tip-wrapper"},[a("div",{staticClass:"lh tip-item",staticStyle:{display:"none"}},[a("a",{staticClass:"text-color",attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(" 沪ICP备XXXXXXXXX号-1 ")])])])])])])])])}],n=(a("13d5"),a("d3b7"),a("b64b"),a("7ded")),r=a("c1df"),i=a.n(r),l=a("c62e"),c={name:"Login",components:{SocialSign:l["default"]},data:function(){return{codeUrl:"",cookiePassword:"",refreshParticles:!0,loginForm:{username:"admin",password:"123456",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},currentTime:null,sysInfo:""}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.getCode(),this.getCurrentTime(),this.getSystemSetting()},mounted:function(){var e=this;""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus(),window.addEventListener("resize",(function(){e.refreshParticles=!1,e.$nextTick((function(){return e.refreshParticles=!0}))}))},destroyed:function(){clearInterval(this.timer),window.removeEventListener("resize",(function(){}))},methods:{getSystemSetting:function(){var e=this;this.$store.dispatch("system/settingDetail").then((function(t){e.sysInfo=t,document.title=t.sys_app_name}))},getCurrentTime:function(){var e=this;this.timer=setInterval((function(t){e.currentTime=i()().format("YYYY-MM-DD HH时mm分ss秒")}),1e3)},getCode:function(){var e=this;Object(n["a"])().then((function(t){void 0!==t&&(e.codeUrl=t.data,e.loginForm.uuid=t.id)}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}).catch((function(){}))})).catch((function(){e.loading=!1,e.getCode()}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},u=c,d=(a("f4cb"),a("2877")),m=Object(d["a"])(u,s,o,!1,null,"30f7e20a",null);t["default"]=m.exports},a137:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},e._l(e.tableHeader,(function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),1)],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" Drop excel file here or "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" Browse ")])],1)])},r=[],i=(a("d3b7"),a("ac1f"),a("00b4"),a("b0c0"),a("1146")),l=a.n(i),c={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(a,s){var o=new FileReader;o.onload=function(e){var s=e.target.result,o=l.a.read(s,{type:"array"}),n=o.SheetNames[0],r=o.Sheets[n],i=t.getHeaderRow(r),c=l.a.utils.sheet_to_json(r);t.generateData({header:i,results:c}),t.loading=!1,a()},o.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,a=[],s=l.a.utils.decode_range(e["!ref"]),o=s.s.r;for(t=s.s.c;t<=s.e.c;++t){var n=e[l.a.utils.encode_cell({c:t,r:o})],r="UNKNOWN "+t;n&&n.t&&(r=l.a.utils.format_cell(n)),a.push(r)}return a},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},u=c,d=(a("8378"),a("2877")),m=Object(d["a"])(u,n,r,!1,null,"d2407dd6",null),p=m.exports,f={name:"UploadExcel",components:{UploadExcelComponent:p},data:function(){return{tableData:[],tableHeader:[]}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){var t=e.results,a=e.header;this.tableData=t,this.tableHeader=a}}},h=f,v=Object(d["a"])(h,s,o,!1,null,null,null);t["default"]=v.exports},a36b:function(e,t,a){e.exports=a.p+"img/404.df15732b.png"},a4ef:function(e,t,a){"use strict";a("2a91")},a615:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"批号",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入批次编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),a("el-form-item",{attrs:{label:"批次名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入批次名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"批次状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:add"],expression:"['admin:sysPost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:export"],expression:"['admin:sysPost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:export"],expression:"['admin:sysPost:export']"}],attrs:{type:"warning",icon:"el-icon-view",size:"mini"},on:{click:e.handleDetails}},[e._v("详情")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.batchList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"批号",width:"100",align:"center",prop:"BatchCode"}}),a("el-table-column",{attrs:{label:"批次名称",width:"180",align:"center",prop:"BatchName"}}),a("el-table-column",{attrs:{label:"产品型号",width:"100",align:"center",prop:"ProductCode"}}),a("el-table-column",{attrs:{label:"UDI号",width:"150",align:"center",prop:"UDI"}}),a("el-table-column",{attrs:{label:"工单号",width:"150",align:"center",prop:"WorkCode"}}),a("el-table-column",{attrs:{label:"SN编码",width:"180",align:"center",prop:"SNCode"}}),a("el-table-column",{attrs:{label:"生产月份",align:"center",prop:"ProductMonth",formatter:e.dateFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(e.dateFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("fb6a"),a("d3b7"),a("3ca3"),a("ddb0"),a("b775"));function r(e){return Object(n["a"])({url:"/api/v1/sn-info",method:"get",params:e})}var i=a("ed08"),l=a("c1df"),c=a.n(l),u={name:"SysPostManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,batchList:[],title:"",open:!1,statusOptions:[],externalOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{BatchName:[{required:!0,message:"批次名称不能为空",trigger:"blur"}],ProductCode:[{required:!0,message:"产品型号不能为空",trigger:"blur"}],BatchNumber:[{required:!0,message:"批次数量不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.batchList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},dateFormat:function(e){return c()(e.ProductMonth).format("YYYY-MM")},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={BatchId:void 0,postCode:void 0,postName:void 0,sort:0,status:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery();var e=this.$route.query,t=e.batch_code;this.queryParams.postCode=t},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.BatchId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加批次"},handleUpdate:function(e){var t=this;this.reset();var a=e.BatchId&&[e.BatchId]||this.ids;(void 0)(a).then((function(e){t.form=e.data,t.form.status=String(t.form.status),t.open=!0,t.title="修改批次"}))},handleDetails:function(e){var t=this.$route.query;t.batch_code},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.BatchId?(e.form.ProductMonth=e.form.ProductMonth.slice(0,7),(void 0)(e.form,e.form.BatchId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):(void 0)(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.BatchId&&[e.BatchId]||this.ids;this.$confirm('是否确认删除批次编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return(void 0)({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有批次数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["批次ID","批次编码","批次名称","创建时间"],s=["BatchId","BatchCode","BatchName","createdAt"],o=e.batchList,n=Object(i["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"批次管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,s,o,!1,null,null,null);t["default"]=p.exports},a7dc:function(e,t,a){"use strict";a.r(t);var s=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(s["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},a8c4:function(e,t,a){var s={"./views/admin/dict":"91c0","./views/admin/dict/":"91c0","./views/admin/dict/data":"5ec1","./views/admin/dict/data.vue":"5ec1","./views/admin/dict/index":"91c0","./views/admin/dict/index.vue":"91c0","./views/admin/sys-api":"0dee","./views/admin/sys-api/":"0dee","./views/admin/sys-api/index":"0dee","./views/admin/sys-api/index.vue":"0dee","./views/admin/sys-config":"42e1","./views/admin/sys-config/":"42e1","./views/admin/sys-config/index":"42e1","./views/admin/sys-config/index.vue":"42e1","./views/admin/sys-config/set":"d66d","./views/admin/sys-config/set.vue":"d66d","./views/admin/sys-dept":"332d","./views/admin/sys-dept/":"332d","./views/admin/sys-dept/index":"332d","./views/admin/sys-dept/index.vue":"332d","./views/admin/sys-login-log":"0c55","./views/admin/sys-login-log/":"0c55","./views/admin/sys-login-log/index":"0c55","./views/admin/sys-login-log/index.vue":"0c55","./views/admin/sys-menu":"f2b7","./views/admin/sys-menu/":"f2b7","./views/admin/sys-menu/index":"f2b7","./views/admin/sys-menu/index.vue":"f2b7","./views/admin/sys-oper-log":"e0ee","./views/admin/sys-oper-log/":"e0ee","./views/admin/sys-oper-log/index":"e0ee","./views/admin/sys-oper-log/index.vue":"e0ee","./views/admin/sys-post":"913c","./views/admin/sys-post/":"913c","./views/admin/sys-post/index":"913c","./views/admin/sys-post/index.vue":"913c","./views/admin/sys-role":"b6be","./views/admin/sys-role/":"b6be","./views/admin/sys-role/index":"b6be","./views/admin/sys-role/index.vue":"b6be","./views/admin/sys-user":"881d","./views/admin/sys-user/":"881d","./views/admin/sys-user/index":"881d","./views/admin/sys-user/index.vue":"881d","./views/dashboard":"9406","./views/dashboard/":"9406","./views/dashboard/admin":"3f2c","./views/dashboard/admin/":"3f2c","./views/dashboard/admin/components/BarChart":"5f84","./views/dashboard/admin/components/BarChart.vue":"5f84","./views/dashboard/admin/components/BoxCard":"8269","./views/dashboard/admin/components/BoxCard.vue":"8269","./views/dashboard/admin/components/LineChart":"36ef","./views/dashboard/admin/components/LineChart.vue":"36ef","./views/dashboard/admin/components/PanelGroup":"6768","./views/dashboard/admin/components/PanelGroup.vue":"6768","./views/dashboard/admin/components/PieChart":"2044","./views/dashboard/admin/components/PieChart.vue":"2044","./views/dashboard/admin/components/RaddarChart":"7b75","./views/dashboard/admin/components/RaddarChart.vue":"7b75","./views/dashboard/admin/components/TodoList":"2544","./views/dashboard/admin/components/TodoList/":"2544","./views/dashboard/admin/components/TodoList/Todo":"ced4","./views/dashboard/admin/components/TodoList/Todo.vue":"ced4","./views/dashboard/admin/components/TodoList/index":"2544","./views/dashboard/admin/components/TodoList/index.scss":"5211","./views/dashboard/admin/components/TodoList/index.vue":"2544","./views/dashboard/admin/components/TransactionTable":"2f3f","./views/dashboard/admin/components/TransactionTable.vue":"2f3f","./views/dashboard/admin/components/mixins/resize":"a7dc","./views/dashboard/admin/components/mixins/resize.js":"a7dc","./views/dashboard/admin/index":"3f2c","./views/dashboard/admin/index.vue":"3f2c","./views/dashboard/editor":"5851","./views/dashboard/editor/":"5851","./views/dashboard/editor/index":"5851","./views/dashboard/editor/index.vue":"5851","./views/dashboard/index":"9406","./views/dashboard/index.vue":"9406","./views/dev-tools/build":"c185","./views/dev-tools/build/":"c185","./views/dev-tools/build/index":"c185","./views/dev-tools/build/index.vue":"c185","./views/dev-tools/gen":"ca68","./views/dev-tools/gen/":"ca68","./views/dev-tools/gen/basicInfoForm":"651f","./views/dev-tools/gen/basicInfoForm.vue":"651f","./views/dev-tools/gen/editTable":"29d6","./views/dev-tools/gen/editTable.vue":"29d6","./views/dev-tools/gen/genInfoForm":"2d1d","./views/dev-tools/gen/genInfoForm.vue":"2d1d","./views/dev-tools/gen/importTable":"bc04","./views/dev-tools/gen/importTable.vue":"bc04","./views/dev-tools/gen/index":"ca68","./views/dev-tools/gen/index.vue":"ca68","./views/dev-tools/swagger":"380d","./views/dev-tools/swagger/":"380d","./views/dev-tools/swagger/index":"380d","./views/dev-tools/swagger/index.vue":"380d","./views/error-page/401":"24e2","./views/error-page/401.vue":"24e2","./views/error-page/404":"1db4","./views/error-page/404.vue":"1db4","./views/excel/components/AutoWidthOption":"8ad2","./views/excel/components/AutoWidthOption.vue":"8ad2","./views/excel/components/BookTypeOption":"ebe1","./views/excel/components/BookTypeOption.vue":"ebe1","./views/excel/components/FilenameOption":"50ce","./views/excel/components/FilenameOption.vue":"50ce","./views/excel/upload-excel":"a137","./views/excel/upload-excel.vue":"a137","./views/log":"5905","./views/log/":"5905","./views/log/index":"5905","./views/log/index.vue":"5905","./views/login":"9ed6","./views/login/":"9ed6","./views/login/auth-redirect":"b829","./views/login/auth-redirect.vue":"b829","./views/login/components/SocialSignin":"c62e","./views/login/components/SocialSignin.vue":"c62e","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/profile":"ecac","./views/profile/":"ecac","./views/profile/components/Account":"e206","./views/profile/components/Account.vue":"e206","./views/profile/components/Activity":"7115","./views/profile/components/Activity.vue":"7115","./views/profile/components/Timeline":"fb8d","./views/profile/components/Timeline.vue":"fb8d","./views/profile/components/UserCard":"7faf","./views/profile/components/UserCard.vue":"7faf","./views/profile/index":"ecac","./views/profile/index.vue":"ecac","./views/profile/resetPwd":"3823","./views/profile/resetPwd.vue":"3823","./views/profile/userAvatar":"88c9","./views/profile/userAvatar.vue":"88c9","./views/profile/userInfo":"2dde","./views/profile/userInfo.vue":"2dde","./views/redirect":"ef3c","./views/redirect/":"ef3c","./views/redirect/index":"ef3c","./views/redirect/index.vue":"ef3c","./views/schedule":"4a5b","./views/schedule/":"4a5b","./views/schedule/index":"4a5b","./views/schedule/index.vue":"4a5b","./views/schedule/log":"94ce","./views/schedule/log.vue":"94ce","./views/sn/sn-batch":"cd66","./views/sn/sn-batch/":"cd66","./views/sn/sn-batch/index":"cd66","./views/sn/sn-batch/index.vue":"cd66","./views/sn/sn-list":"a615","./views/sn/sn-list/":"a615","./views/sn/sn-list/index":"a615","./views/sn/sn-list/index.vue":"a615","./views/sys-tools/monitor":"1bfd","./views/sys-tools/monitor.vue":"1bfd"};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="a8c4"},acdd:function(e,t,a){"use strict";a("7214")},b6be:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:add"],expression:"['admin:sysRole:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:remove"],expression:"['admin:sysRole:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:export"],expression:"['admin:sysRole:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChang}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编码",sortable:"custom",prop:"roleId",width:"80"}}),a("el-table-column",{attrs:{label:"名称",sortable:"custom",prop:"roleName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),a("el-table-column",{attrs:{label:"排序",sortable:"custom",prop:"roleSort",width:"80"}}),a("el-table-column",{attrs:{label:"状态",sortable:"custom",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"2","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",sortable:"custom",prop:"createdAt",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"left","class-name":"small-padding fixed-width",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:update"],expression:"['admin:sysRole:update']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),"admin"!==t.row.roleKey?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysRole:remove"],expression:"['admin:sysRole:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e.open?a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称",disabled:e.isEdit},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符",disabled:e.isEdit},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menuTree",staticStyle:{height:"171px","overflow-y":"auto","overflow-x":"hidden"},attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":e.menuOptionsAlert}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1):e._e(),e.openDataScope?a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px"},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1):e._e()],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("189e")),r=a("5f141"),i=a("94d5"),l=a("ed08"),c={name:"Role",components:{},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],menuIdsChecked:[],title:"",open:!1,openDataScope:!1,isEdit:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],menuList:[],deptOptions:[],menuOptionsAlert:"加载中，请稍后",queryParams:{pageIndex:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{sysMenu:[]},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getMenuTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.data.list,e.total=t.data.count,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(r["e"])(0).then((function(t){e.menuOptions=t.data.menus,e.menuList=e.menuOptions}))},getDeptTreeselect:function(){var e=this;Object(i["f"])().then((function(t){e.deptOptions=t.data.list}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menuTree.getHalfCheckedKeys();console.log("目前被选中的菜单节点",e);var t=this.$refs.menuTree.getCheckedKeys();return console.log("半选中的菜单节点",t),t},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys();return e},getRoleMenuTreeselect:function(e,t){var a=this;"admin"===e.roleKey?(this.menuOptionsAlert="系统超级管理员无需此操作",this.menuOptions=[]):this.$nextTick((function(){a.$refs.menuTree.setCheckedKeys(t)}))},getRoleDeptTreeselect:function(e){var t=this;Object(i["e"])(e).then((function(e){t.deptOptions=e.data.depts,t.$nextTick((function(){t.$refs.dept.setCheckedKeys(e.data.checkedKeys)}))}))},handleStatusChange:function(e){var t=this,a="2"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.roleId,e.status)})).then((function(e){console.log("res",e),t.msgSuccess(e.msg)})).catch((function(){e.status="2"===e.status?"1":"2"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){this.menuOptions=this.menuList,void 0!==this.$refs.menuTree&&this.$refs.menuTree.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"2",menuIds:[],deptIds:[],sysMenu:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加角色",this.isEdit=!1},handleSortChang:function(e,t,a){t=e.prop,a=e.order,this.queryParams[t+"Order"]="descending"===a?"desc":"ascending"===a?"asc":void 0,this.getList()},handleUpdate:function(e){var t=this;this.menuIdsChecked=[],this.reset();var a=e.roleId||this.ids;Object(n["e"])(a).then((function(a){t.form=a.data,t.menuIdsChecked=a.data.menuIds,t.title="修改角色",t.isEdit=!0,t.open=!0,t.getRoleMenuTreeselect(e,a.data.menuIds)}))},handleDataScope:function(e){var t=this;this.reset(),Object(n["e"])(e.roleId).then((function(a){t.form=a.data,t.openDataScope=!0,t.title="分配数据权限",t.getRoleDeptTreeselect(e.roleId)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["h"])(e.form,e.form.roleId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!==this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),console.log(this.getDeptAllCheckedKeys()),Object(n["c"])(this.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId&&[e.roleId]||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])({ids:a})})).then((function(e){t.getList(),t.msgSuccess(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["角色编号","角色名称","权限字符","显示顺序","状态","创建时间"],s=["roleId","roleName","roleKey","roleSort","status","createdAt"],o=e.roleList,n=Object(l["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"角色管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,o,!1,null,null,null);t["default"]=m.exports},b829:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("ac1f"),a("841c");var s,o,n={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},bc04:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleImportTable}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},o=[],n=(a("d81d"),a("a15b"),a("4aab")),r={data:function(){return{loading:!1,visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(n["f"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.data.list,e.total=t.data.count)}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;this.loading=!0,this.visible=!0,Object(n["e"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok")),e.loading=!1}))}}},i=r,l=a("2877"),c=Object(l["a"])(i,s,o,!1,null,null,null);t["default"]=c.exports},bfec:function(e,t,a){"use strict";a("87e0")},c185:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])])]},proxy:!0}])})},o=[],n={components:{},data:function(){return{src:"/form-generator/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},c62e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v(" WeChat ")]),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v(" QQ ")])])},o=[],n={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},r=n,i=(a("bfec"),a("2877")),l=Object(i["a"])(r,s,o,!1,null,"7309fbbb",null);t["default"]=l.exports},c8b1:function(e,t,a){},c9b5:function(e,t,a){"use strict";a("c8b1")},ca68:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-position":"left"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"菜单名称",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}}),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"tableId",width:"50px"}}),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),a("el-table-column",{attrs:{label:"菜单名称",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),a("el-table-column",{attrs:{label:"模型名称",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),a("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"正在使用代码生成请确认?","confirm-button-text":"生成"},on:{onConfirm:function(a){return e.handleToProject(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},slot:"reference"},[e._v("代码生成")])],1),a("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"正在使用【菜单以及API生成到数据库】请确认?","confirm-button-text":"写入DB"},on:{onConfirm:function(a){return e.handleToDB(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},slot:"reference"},[e._v("生成配置")])],1),a("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"正在使用代码生成配置迁移脚本请确认?","confirm-button-text":"生成"},on:{onConfirm:function(a){return e.handleToApiFile(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-view"},slot:"reference"},[e._v("生成迁移脚本")])],1),a("el-popconfirm",{staticClass:"delete-popconfirm",attrs:{title:"确认删除数据项？"},on:{onConfirm:function(a){return e.handleSingleDelete(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"small",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("el-dialog",{staticClass:"preview",attrs:{title:e.preview.title,visible:e.preview.open,fullscreen:""},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("div",{staticClass:"el-dialog-container"},[a("div",{staticClass:"tag-group"},e._l(e.preview.data,(function(t,s){return a("el-tag",{on:{click:function(t){return e.codeChange(s)}}},[[e._v(" "+e._s(s.substring(s.lastIndexOf("/")+1,s.indexOf(".go.template")))+" ")]],2)})),1),a("div",{attrs:{id:"codemirror"}},[a("codemirror",{ref:"cmEditor",attrs:{value:e.codestr,options:e.cmOptions}})],1)])]),a("import-table",{ref:"importTB",on:{ok:e.handleQuery}})]},proxy:!0}])})},o=[],n=(a("d81d"),a("4aab")),r=a("bc04"),i=(a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("bc3a"),a("5f87"),"");function l(e){var t=i+e,a=document.createElement("a");a.href=t,document.body.appendChild(a),a.click(),document.body.appendChild(a)}var c=a("8f94");a("d79d"),a("f9d4"),a("4ff4"),a("693d8");a("f9d4");var u={name:"Gen",components:{importTable:r["default"],codemirror:c["codemirror"]},data:function(){return{cmOptions:{tabSize:4,theme:"material-palenight",mode:"text/javascript",lineNumbers:!0,line:!0},codestr:"",loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"api.go"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!==e&&e!==this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.data.list,e.total=t.data.count,e.loading=!1}))},codeChange:function(e){e.indexOf("js")>-1&&(this.cmOptions.mode="text/javascript"),(e.indexOf("model")>-1||e.indexOf("router")>-1||e.indexOf("api")>-1||e.indexOf("service")>-1||e.indexOf("dto")>-1)&&(this.cmOptions.mode="text/x-go"),e.indexOf("vue")>-1&&(this.cmOptions.mode="text/x-vue"),this.codestr=this.preview.data[e]},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},handleGenTable:function(e){var t=e.tableId||this.ids;""!==t?l("/api/v1/gen/gencode/"+t):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.importTB.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(n["h"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0,t.codeChange("template/api.go.template")}))},handleToProject:function(e){var t=this;Object(n["j"])(e.tableId,!1).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToApiFile:function(e){var t=this;Object(n["a"])(e.tableId,!0).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToDB:function(e){var t=this;Object(n["i"])(e.tableId).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!==e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/dev-tools/editTable",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleSingleDelete:function(e){var t=this,a=e.tableId||this.ids;Object(n["b"])(a).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},d=u,m=(a("662f"),a("a4ef"),a("2877")),p=Object(m["a"])(d,s,o,!1,null,"448f459c",null);t["default"]=p.exports},cc6c:function(e,t,a){e.exports=a.p+"img/401.089007e7.gif"},cd66:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"批号(LOT号)",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入批次编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),a("el-form-item",{attrs:{label:"工单号",prop:"workCode"}},[a("el-input",{attrs:{placeholder:"请输入工单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workCode,callback:function(t){e.$set(e.queryParams,"workCode",t)},expression:"queryParams.workCode"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"批次状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:add"],expression:"['admin:sysPost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:export"],expression:"['admin:sysPost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.batchList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"序号",width:"60",align:"center",prop:"BatchId"}}),a("el-table-column",{attrs:{label:"批号(LOT号)",width:"100",align:"center",prop:"BatchCode"}}),a("el-table-column",{attrs:{label:"数量",width:"60",align:"center",prop:"BatchNumber"}}),a("el-table-column",{attrs:{label:"附加",width:"60",align:"center",prop:"BatchExtra"}}),a("el-table-column",{attrs:{label:"产品型号",width:"80",align:"center",prop:"Product.ProductCode"}}),a("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"Product.ProductName"}}),a("el-table-column",{attrs:{label:"UDI号",align:"center",prop:"Product.UDI"}}),a("el-table-column",{attrs:{label:"工单号",align:"center",prop:"WorkCode"}}),a("el-table-column",{attrs:{label:"SN最小值",align:"center",prop:"SNMin"}}),a("el-table-column",{attrs:{label:"SN最大值",align:"center",prop:"SNMax"}}),a("el-table-column",{attrs:{label:"生产月份",align:"center",prop:"ProductMonth",formatter:e.dateFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(e.dateFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{prop:"BatchImgFile",label:"图样",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.Product?a("el-image",{attrs:{src:t.row.BatchImgFile,"preview-src-list":[t.row.BatchImgFile]}}):e._e()]}}])},[a("i",{staticClass:"el-icon-plus"})]),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"制作类型",align:"center",prop:"External",formatter:e.externalFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.External?"danger":"success","disable-transitions":""}},[e._v(e._s(e.externalFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:edit"],expression:"['admin:sysPost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("查看")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysPost:remove"],expression:"['admin:sysPost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"SN格式",prop:"snFormat"}},[a("el-radio-group",{on:{input:function(t){return e.changeSnFormat()}},model:{value:e.form.snFormat,callback:function(t){e.$set(e.form,"snFormat",t)},expression:"form.snFormat"}},[a("el-radio",{key:0,attrs:{label:0}},[e._v("不带括号")]),a("el-radio",{key:1,attrs:{label:1}},[e._v("带括号")])],1),e.is_sn_format_show?a("el-form-item",{attrs:{label:"SN格式",prop:"snFormatInfo"}},[a("el-input",{attrs:{placeholder:"(01)"},model:{value:e.form.snFormatInfo,callback:function(t){e.$set(e.form,"snFormatInfo",t)},expression:"form.snFormatInfo"}})],1):e._e()],1),a("el-form-item",{attrs:{label:"批号(LOT号)格式",prop:"batchCodeFormat"}},[a("el-radio-group",{on:{input:function(t){return e.changeBatchCodeFormat()}},model:{value:e.form.batchCodeFormat,callback:function(t){e.$set(e.form,"batchCodeFormat",t)},expression:"form.batchCodeFormat"}},[a("el-radio",{key:0,attrs:{label:0}},[e._v("自动生成")]),a("el-radio",{key:1,attrs:{label:1}},[e._v("手动填写")])],1),e.is_batch_code_show?a("el-form-item",{attrs:{label:"批号(LOT号)",prop:"batchCodeFormatInfo"}},[a("el-input",{attrs:{placeholder:"批号"},model:{value:e.form.batchCodeFormatInfo,callback:function(t){e.$set(e.form,"batchCodeFormatInfo",t)},expression:"form.batchCodeFormatInfo"}})],1):e._e()],1),a("el-form-item",{attrs:{label:"SN生成规则",prop:"SNCodeRules"}},[a("el-radio-group",{on:{input:function(t){return e.changeSNCodeRulesFormat()}},model:{value:e.form.SNCodeRules,callback:function(t){e.$set(e.form,"SNCodeRules",t)},expression:"form.SNCodeRules"}},[a("el-radio",{key:0,attrs:{label:0}},[e._v("自动生成")]),a("el-radio",{key:1,attrs:{label:1}},[e._v("客户指定SN号")])],1),e.is_min_sn_code_show?a("el-form-item",{attrs:{label:"最小SN号",prop:"minSNCode"}},[a("el-input",{attrs:{placeholder:"最小SN号"},model:{value:e.form.minSNCode,callback:function(t){e.$set(e.form,"minSNCode",t)},expression:"form.minSNCode"}})],1):e._e(),e.is_max_sn_code_show?a("el-form-item",{attrs:{label:"最大SN号",prop:"MaxSNCode"}},[a("el-input",{attrs:{placeholder:"最大SN号"},model:{value:e.form.MaxSNCode,callback:function(t){e.$set(e.form,"MaxSNCode",t)},expression:"form.MaxSNCode"}})],1):e._e()],1),a("el-form-item",{attrs:{label:"产品名称",prop:"ProductId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{input:function(t){return e.changeForm()}},model:{value:e.form.ProductId,callback:function(t){e.$set(e.form,"ProductId",t)},expression:"form.ProductId"}},e._l(e.productList,(function(e){return a("el-option",{key:e.ProductName,attrs:{label:e.ProductName,value:e.ProductId}})})),1)],1),a("el-form-item",{attrs:{label:"产品型号",prop:"ProductCode"}},[a("el-input",{attrs:{placeholder:"机器型号"},model:{value:e.form.ProductCode,callback:function(t){e.$set(e.form,"ProductCode",t)},expression:"form.ProductCode"}})],1),a("el-form-item",{attrs:{label:"UDI号",prop:"UDI"}},[a("el-input",{attrs:{placeholder:"UDI号"},model:{value:e.form.UDI,callback:function(t){e.$set(e.form,"UDI",t)},expression:"form.UDI"}})],1),a("el-form-item",{attrs:{label:"工单号",prop:"WorkCode"}},[a("el-input",{attrs:{placeholder:"工单号"},model:{value:e.form.WorkCode,callback:function(t){e.$set(e.form,"WorkCode",t)},expression:"form.WorkCode"}})],1),a("el-form-item",{attrs:{label:"制作类型",prop:"External"}},[a("el-radio-group",{model:{value:e.form.External,callback:function(t){e.$set(e.form,"External",t)},expression:"form.External"}},[a("el-radio",{key:0,attrs:{label:0}},[e._v("自制")]),a("el-radio",{key:1,attrs:{label:1}},[e._v("外购")])],1)],1),a("el-form-item",{attrs:{label:"批次数量",prop:"BatchNumber"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.BatchNumber,callback:function(t){e.$set(e.form,"BatchNumber",t)},expression:"form.BatchNumber"}})],1),a("el-form-item",{attrs:{label:"多备数量",prop:"BatchExtra"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.BatchExtra,callback:function(t){e.$set(e.form,"BatchExtra",t)},expression:"form.BatchExtra"}})],1),a("el-form-item",{attrs:{label:"生产月份",prop:"ProductMonth"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择日期",format:"yyyy年MM月","value-format":"yyyy-MM","controls-position":"right",min:0},model:{value:e.form.ProductMonth,callback:function(t){e.$set(e.form,"ProductMonth",t)},expression:"form.ProductMonth"}})],1),a("el-form-item",{attrs:{label:"批次状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"图样",prop:"ProductSNImage"}},[a("el-upload",{ref:"ProductSNImage",staticClass:"avatar-uploader",staticStyle:{float:"left"},attrs:{accept:"image/jpeg,image/git,image/png",headers:e.headers,"file-list":e.sys_app_logofileList,action:e.sys_app_logoAction,"before-upload":e.sys_app_logoBeforeUpload,"list-type":"picture-card","show-file-list":!1,"on-success":e.uploadSuccess}},[e.form.ProductSNImage?a("img",{staticClass:"el-upload el-upload--picture-card",staticStyle:{float:"left"},attrs:{alt:"",src:e.form.ProductSNImage,align:"center",width:"300px"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.Comment,callback:function(t){e.$set(e.form,"Comment",t)},expression:"form.Comment"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("fb6a"),a("d3b7"),a("3ca3"),a("ddb0"),a("b775"));function r(e){return Object(n["a"])({url:"/api/v1/sn-batch",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/api/v1/sn-batch/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/api/v1/sn-batch",method:"post",data:e})}function c(e,t){return Object(n["a"])({url:"/api/v1/sn-batch/"+t,method:"put",data:e})}function u(e){return Object(n["a"])({url:"/api/v1/sn-batch",method:"delete",data:e})}function d(e){return Object(n["a"])({url:"/api/v1/sn-product",method:"get",params:{pageIndex:1,pageSize:100}})}var m=a("ed08"),p=a("5f87"),f=a("c1df"),h=a.n(f),v={name:"SysPostManage",data:function(){return{headers:{Authorization:"Bearer "+Object(p["a"])()},loading:!0,ids:[],single:!0,multiple:!0,is_batch_code_show:!1,is_sn_format_show:!1,is_min_sn_code_show:!1,is_max_sn_code_show:!1,total:0,batchList:[],productList:[],title:"",open:!1,statusOptions:[],externalOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,workCode:void 0,status:void 0},sys_app_logoAction:"http://localhost:8000/api/v1/public/uploadFile",sys_app_logofileList:[],form:{},rules:{BatchName:[{required:!0,message:"批次名称不能为空",trigger:"blur"}],ProductId:[{required:!0,message:"产品名称不能为空",trigger:"blur"}],minSNCode:[{required:!0,message:"最小SN号不能为空",trigger:"blur"}],MaxSNCode:[{required:!0,message:"最大SN号不能为空",trigger:"blur"}],batchCodeFormatInfo:[{required:!0,message:"LOT号不能为空",trigger:"blur"}],snFormatInfo:[{required:!0,message:"SN格式不能为空",trigger:"blur"}],WorkCode:[{required:!0,message:"工单号不能为空",trigger:"blur"}],BatchNumber:[{required:!0,message:"批次数量不能为空",trigger:"blur"}],External:[{required:!0,message:"制作类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getProductList(),this.getList(),this.getDicts("sn_batch_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sn_batch_external").then((function(t){e.externalOptions=t.data}))},methods:{uploadSuccess:function(e,t,a){this.$forceUpdate(),this.form.ProductSNImage=""+e.data.full_path,this.$forceUpdate(),console.log(this.form.ProductSNImage),console.log(e.data.full_path)},sys_app_logoBeforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("文件大小超过 2MB"),t},getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.batchList=t.data.list,e.total=t.data.count,e.loading=!1}))},getProductList:function(){var e=this;d(this.queryParams).then((function(t){e.productList=t.data.list}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},externalFormat:function(e){return this.selectDictLabel(this.externalOptions,e.External)},dateFormat:function(e){return h()(e.ProductMonth).format("YYYY-MM")},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={BatchId:void 0,postCode:void 0,postName:void 0,sort:0,status:"1",remark:void 0},this.resetForm("form"),this.is_batch_code_show=!1,this.is_sn_format_show=!1,this.is_min_sn_code_show=!1,this.is_max_sn_code_show=!1},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.BatchId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.form.snFormat=0,this.form.batchCodeFormat=0,this.form.SNCodeRules=0,this.open=!0,this.title="添加批次"},handleUpdate:function(e){var t=this;this.reset();var a=e.BatchId&&[e.BatchId]||this.ids;i(a).then((function(a){t.form=a.data,t.form.ProductSNImage=e.BatchImgFile,t.form.status=String(t.form.status),t.form.snFormat=e.SNFormat,t.changeSnFormat(),t.form.snFormatInfo=e.SNFormatInfo,t.changeSNCodeRulesFormat(),t.form.batchCodeFormat=e.BatchCodeFormat,t.changeBatchCodeFormat(),t.form.batchCodeFormatInfo=e.BatchCode,t.form.minSNCode=e.SNMin,t.form.MaxSNCode=e.SNMax,t.open=!0,t.title="修改批次"}))},changeForm:function(){for(var e=0;e<this.productList.length;e++)this.productList[e].ProductId===this.form.ProductId&&(this.form.UDI=this.productList[e].UDI,this.form.ProductCode=this.productList[e].ProductCode)},changeSnFormat:function(){1===this.form.snFormat?this.is_sn_format_show=!0:this.is_sn_format_show=!1},changeBatchCodeFormat:function(){1===this.form.batchCodeFormat?this.is_batch_code_show=!0:this.is_batch_code_show=!1},changeSNCodeRulesFormat:function(){1===this.form.SNCodeRules?(this.is_min_sn_code_show=!0,this.is_max_sn_code_show=!0):(this.is_min_sn_code_show=!1,this.is_max_sn_code_show=!1)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.status=parseInt(e.form.status),void 0!==e.form.BatchId?(e.form.ProductMonth=e.form.ProductMonth.slice(0,7),c(e.form,e.form.BatchId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))):l(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.BatchId&&[e.BatchId]||this.ids;this.$confirm('是否确认删除批次编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有批次数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["批次ID","批次编码","批次数量","附加数量","产品型号","UDI号","工单号","SN最大值","SN最小值","生产月份","备注","状态","创建时间"],s=["BatchId","BatchCode","BatchNumber","BatchExtra","ProductCode","UDI","WorkCode","SNMax","SNMin","ProductMonth","Comment","status","createdAt"],o=e.batchList,n=Object(m["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"批次管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},b=v,g=a("2877"),y=Object(g["a"])(b,s,o,!1,null,null,null);t["default"]=y.exports},ced4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"todo",class:{completed:e.todo.done,editing:e.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.todo.done},on:{change:function(t){return e.toggleTodo(e.todo)}}}),a("label",{domProps:{textContent:e._s(e.todo.text)},on:{dblclick:function(t){e.editing=!0}}}),a("button",{staticClass:"destroy",on:{click:function(t){return e.deleteTodo(e.todo)}}})]),a("input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:e.editing,expression:"editing"}],staticClass:"edit",domProps:{value:e.todo.text},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doneEdit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelEdit(t)}],blur:e.doneEdit}})])},o=[],n=(a("498a"),{name:"Todo",directives:{focus:function(e,t,a){var s=t.value,o=a.context;s&&o.$nextTick((function(){e.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(e){this.$emit("deleteTodo",e)},editTodo:function(e){var t=e.todo,a=e.value;this.$emit("editTodo",{todo:t,value:a})},toggleTodo:function(e){this.$emit("toggleTodo",e)},doneEdit:function(e){var t=e.target.value.trim(),a=this.todo;t?this.editing&&(this.editTodo({todo:a,value:t}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(e){e.target.value=this.todo.text,this.editing=!1}}}),r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},d66d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[a("el-tab-pane",{attrs:{label:"系统内置"}},[a("el-form",{attrs:{"label-width":"80px"}},[a("div",{staticClass:"test-form"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"系统名称",prop:"sys_app_name"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入系统名称",clearable:""},model:{value:e.form.sys_app_name,callback:function(t){e.$set(e.form,"sys_app_name",t)},expression:"form.sys_app_name"}})],1),a("el-form-item",{attrs:{label:"系统logo",prop:"sys_app_logo",required:""}},[e.form.sys_app_logo?a("img",{staticClass:"el-upload el-upload--picture-card",staticStyle:{float:"left"},attrs:{src:e.form.sys_app_logo}}):e._e(),a("el-upload",{ref:"sys_app_logo",staticStyle:{float:"left"},attrs:{headers:e.headers,"file-list":e.sys_app_logofileList,action:e.sys_app_logoAction,"before-upload":e.sys_app_logoBeforeUpload,"list-type":"picture-card","show-file-list":!1,"on-success":e.uploadSuccess}},[a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",{attrs:{label:"初始密码",prop:"sys_user_initPassword"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入初始密码",clearable:""},model:{value:e.form.sys_user_initPassword,callback:function(t){e.$set(e.form,"sys_user_initPassword",t)},expression:"form.sys_user_initPassword"}})],1),a("el-form-item",{attrs:{label:"皮肤样式",prop:"sys_index_skinName"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择皮肤样式",clearable:""},model:{value:e.form.sys_index_skinName,callback:function(t){e.$set(e.form,"sys_index_skinName",t)},expression:"form.sys_index_skinName"}},e._l(e.sys_index_skinNameOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{label:"侧栏主题",prop:"sys_index_sideTheme"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择侧栏主题",clearable:""},model:{value:e.form.sys_index_sideTheme,callback:function(t){e.$set(e.form,"sys_index_sideTheme",t)},expression:"form.sys_index_sideTheme"}},e._l(e.sys_index_sideThemeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),a("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])],1),a("el-tab-pane",{attrs:{label:"其他"}},[e._v("其他")])],1)],1)]},proxy:!0}])})},o=[],n=(a("d3b7"),a("159b"),a("cecf")),r=a("5f87"),i={name:"SysConfigSet",components:{},data:function(){return{loading:!0,configList:[],formConf:{},headers:{Authorization:"Bearer "+Object(r["a"])()},form:{sys_app_name:void 0,sys_app_logo:null,sys_user_initPassword:void 0,sys_index_skinName:void 0,sys_index_sideTheme:void 0},rules:{sys_app_name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],sys_user_initPassword:[{required:!0,message:"请输入初始密码",trigger:"blur"}],sys_index_skinName:[{required:!0,message:"请选择皮肤样式",trigger:"change"}],sys_index_sideTheme:[{required:!0,message:"请选择侧栏主题",trigger:"change"}]},sys_app_logoAction:"http://localhost:8000/api/v1/public/uploadFile",sys_app_logofileList:[],sys_index_skinNameOptions:[{label:"蓝色",value:"skin-blue"}],sys_index_sideThemeOptions:[{label:"深色主题",value:"theme-dark"}]}},created:function(){this.getList()},methods:{submitForm:function(){var e=this;console.log(this.form),this.$refs["form"].validate((function(t){if(t){console.log(e.form);var a=[],s=0;for(var o in e.form)a[s]={configKey:o,configValue:e.form[o]},s++;Object(n["h"])(a).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)}))}}))},resetForm:function(){this.$refs["form"].resetFields()},sys_app_logoBeforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("文件大小超过 2MB"),t},uploadSuccess:function(e,t,a){console.log("sss"),this.form.sys_app_logo=""+e.data.full_path,console.log(e.data.full_path)},getList:function(){var e=this;this.loading=!0,Object(n["e"])().then((function(t){e.configList=t.data,e.loading=!1,e.form=e.configList}))},setUrl:function(e){var t={sys_app_logo:""};t.sys_app_logo=e,this.fillFormData(this.formConf,t),this.key2=+new Date},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},fillFormData:function(e,t){e.fields.forEach((function(e){var a=t[e.__vModel__];a&&(e.__config__.defaultValue=a)}))},bind:function(e,t){this.setUrl(t)},sumbitForm2:function(e){var t=this,a=[],s=0;for(var o in e)a[s]={configKey:o,configValue:e[o]},s++;Object(n["h"])(a).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)}))}}},l=i,c=a("2877"),u=Object(c["a"])(l,s,o,!1,null,null,null);t["default"]=u.exports},d817:function(e,t,a){},d828:function(e,t,a){"use strict";a("40a6")},da54:function(e,t,a){"use strict";a("92f0e")},e0ee:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{size:"small",type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:remove"],expression:"['admin:sysOperLog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:export"],expression:"['admin:sysOperLog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",width:"70",prop:"id"}}),a("el-table-column",{attrs:{label:"Request info",prop:"operUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("Request: "),"GET"==t.row.requestMethod?a("el-tag",[e._v(e._s(t.row.requestMethod))]):e._e(),"POST"==t.row.requestMethod?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"PUT"==t.row.requestMethod?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"DELETE"==t.row.requestMethod?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.requestMethod))]):e._e(),e._v(" "+e._s(t.row.operUrl)+" ")],1),a("p",[e._v("Host: "+e._s(t.row.operIp))]),a("p",[e._v("Location: "+e._s(t.row.operLocation))]),a("p",[e._v("耗时: "+e._s(t.row.latencyTime))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["GET"==t.row.requestMethod?a("el-tag",[e._v(e._s(t.row.requestMethod))]):e._e(),"POST"==t.row.requestMethod?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"PUT"==t.row.requestMethod?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.requestMethod))]):e._e(),"DELETE"==t.row.requestMethod?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.requestMethod))]):e._e(),e._v(" "+e._s(t.row.operUrl)+" ")],1)])]}}])}),a("el-table-column",{attrs:{label:"操作人员",prop:"operName",width:"160","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",prop:"status",width:"80","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["2"==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.statusFormat(t.row,t.row.status)))]):e._e(),"1"==t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.statusFormat(t.row,t.row.status)))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作日期",prop:"operTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysOperLog:query"],expression:"['admin:sysOperLog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"耗时："}},[e._v(e._s(e.form.latencyTime))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},["2"===e.form.status?a("div",[e._v("正常")]):"1"===e.form.status?a("div",[e._v("关闭")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("b775"));function r(){return Object(n["a"])({url:"/api/v1/operlog/clean",method:"delete"})}function i(e){return Object(n["a"])({url:"/api/v1/sys-opera-log",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/api/v1/sys-opera-log",method:"delete",data:e})}var c=a("ed08"),u={name:"SysOperLogManage",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,statusOptions:[],dateRange:[],form:{},queryParams:{pageIndex:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0,createdAtOrder:"desc"}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.id&&[e.id]||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l({ids:a})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r()})).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-4f70bc8b"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8")).then((function(t){var a=["日志编号","系统模块","操作类型","请求方式","操作人员","主机","操作地点","操作状态","操作url","操作日期"],s=["ID","title","businessType","method","operName","operIp","operLocation","status","operUrl","operTime"],o=e.list,n=Object(c["c"])(s,o);t.export_json_to_excel({header:a,data:n,filename:"操作日志",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,s,o,!1,null,null,null);t["default"]=p.exports},e121:function(e,t,a){},e206:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name","string"===typeof t?t.trim():t)},expression:"user.name"}})],1),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Update")])],1)],1)},o=[],n={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},e22a:function(e,t,a){},ebe1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Book Type: ")]),a("el-select",{staticStyle:{width:"120px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}},e._l(e.options,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},o=[],n={props:{value:{type:String,default:"xlsx"}},data:function(){return{options:["xlsx","csv","txt"]}},computed:{bookType:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},ec61:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phone))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.deptName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createdAt))])],1)])])])],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)]},proxy:!0}])})},o=[],n=a("88c9"),r=a("2dde"),i=a("3823"),l=a("51fa"),c={name:"Profile",components:{userAvatar:n["default"],userInfo:r["default"],resetPwd:i["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},deptGroup:{},activeTab:"userinfo",roleIds:void 0,postIds:void 0,roleName:void 0,postName:void 0,dept:{},deptName:void 0}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(l["f"])().then((function(t){if(e.user=t.data.user,e.roleIds=t.data.user.roleIds,e.roleGroup=t.data.roles,e.roleIds[0])for(var a in e.roleGroup)e.roleIds[0]===e.roleGroup[a].roleId&&(e.roleName=e.roleGroup[a].roleName);else e.roleName="暂无";e.dept=t.data.user.dept,e.deptName=e.dept.deptName}))}}},u=c,d=(a("9d0f"),a("2877")),m=Object(d["a"])(u,s,o,!1,null,"4d2cf9be",null);t["default"]=m.exports},ef3c:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319");var s,o,n={created:function(){var e=this.$route,t=e.params,a=e.query,s=t.path;this.$router.replace({path:"/"+s,query:a})},render:function(e){return e()}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},f2b7:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BasicLayout",{scopedSlots:e._u([{key:"wrapper",fn:function(){return[a("el-card",{staticClass:"box-card"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.visible,callback:function(t){e.$set(e.queryParams,"visible",t)},expression:"queryParams.visible"}},e._l(e.visibleOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:add"],expression:"['admin:sysMenu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,border:"","row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"title",label:"菜单名称","show-overflow-tooltip":!0,width:"180px"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"60px"}}),a("el-table-column",{attrs:{prop:"permission",label:"权限标识","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sysApi.length>0?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.sysApi,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"title",width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return["SYS"==t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),"SYS"!=t.row.type&&""!=t.row.title?a("span",[a("el-tag",{attrs:{type:""}},[e._v(e._s("["+t.row.type+"] "+t.row.title))])],1):e._e(),""==t.row.title?a("span",[a("el-tag",{attrs:{type:"danger"}},[e._v("暂无")])],1):e._e()]}}],null,!0)}),a("el-table-column",{attrs:{prop:"path",label:"path",width:"270px"},scopedSlots:e._u([{key:"default",fn:function(t){return["GET"==t.row.action?a("el-tag",[e._v(e._s(t.row.action))]):e._e(),"POST"==t.row.action?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.action))]):e._e(),"PUT"==t.row.action?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.action))]):e._e(),"DELETE"==t.row.action?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.action))]):e._e(),e._v(" "+e._s(t.row.path)+" ")]}}],null,!0)})],1),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[""==t.row.permission?a("span",[e._v("-")]):a("span",[e._v(e._s(t.row.permission))])])],1):a("span",[""==t.row.permission?a("span",[e._v("-")]):a("span",[e._v(e._s(t.row.permission))])])]}}])}),a("el-table-column",{attrs:{prop:"path",label:"组件路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["A"==t.row.menuType?a("span",[e._v(e._s(t.row.path))]):a("span",[e._v(e._s(t.row.component))])]}}])}),a("el-table-column",{attrs:{prop:"visible",label:"可见",formatter:e.visibleFormat,width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.visible?"danger":"success","disable-transitions":""}},[e._v(e._s(e.visibleFormat(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:edit"],expression:"['admin:sysMenu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:add"],expression:"['admin:sysMenu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["admin:sysMenu:remove"],expression:"['admin:sysMenu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-drawer",{ref:"drawer",attrs:{title:e.title,"before-close":e.cancel,visible:e.open,direction:"rtl","custom-class":"demo-drawer",size:"830px"},on:{"update:visible":function(t){e.open=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top","label-width":"106px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"parentId"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 上级菜单 "),a("el-tooltip",{attrs:{content:"指当前菜单停靠的菜单归属",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"title"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单标题 "),a("el-tooltip",{attrs:{content:"菜单位置显示的说明信息",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入菜单标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"sort"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 显示排序 "),a("el-tooltip",{attrs:{content:"根据序号升序排列",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"menuType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单类型 "),a("el-tooltip",{attrs:{content:"包含目录：以及菜单或者菜单组，菜单：具体对应某一个页面，按钮：功能才做按钮；",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)],1),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{attrs:{prop:"menuName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 路由名称 "),a("el-tooltip",{attrs:{content:"需要和页面name保持一致，对应页面即可选择缓存",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入路由名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1):e._e()],1),"M"==e.form.menuType||"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"component"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 组件路径 "),a("el-tooltip",{attrs:{content:"菜单对应的具体vue页面文件路径views的下级路径/admin/sys-api/index；目录类型：填写Layout，如何有二级目录请参照日志目录填写；",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 是否外链 "),a("el-tooltip",{attrs:{content:"可以通过iframe打开指定地址",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{prop:"path"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 路由地址 "),a("el-tooltip",{attrs:{content:"访问此页面自定义的url地址，建议/开头书写，例如 /app-name/menu-name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 权限标识 "),a("el-tooltip",{attrs:{content:"前端权限控制按钮是否显示",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 菜单状态 "),a("el-tooltip",{attrs:{content:"需要显示在菜单列表的菜单设置为显示，否则设置为隐藏",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1),a("el-col",{attrs:{span:24}},["F"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" api权限 "),a("el-tooltip",{attrs:{content:"配置在这个才做上需要使用到的接口，否则在设置用户角色时，接口将无权访问。",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-transfer",{staticClass:"panel",staticStyle:{"text-align":"left",display:"inline-block"},attrs:{filterable:"",props:{key:"id",label:"title"},titles:["未授权","已授权"],"button-texts":["收回","授权 "],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.sysapiList},on:{change:e.handleChange},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.option;return a("span",{},[e._v(e._s(s.title))])}}],null,!1,3352842312),model:{value:e.form.apis,callback:function(t){e.$set(e.form,"apis",t)},expression:"form.apis"}})],1):e._e()],1)],1)],1),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)])],1)]},proxy:!0}])})},o=[],n=a("5f141"),r=a("95b0"),i=a("ca17"),l=a.n(i),c=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,s){return a("div",{key:s,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),a("span",[e._v(e._s(t))])],1)})),0)],1)}),u=[],d=(a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("ddb0"),a("d81d"),a("ac1f"),a("466d"),a("51ff")),m=function(e){return e.keys()},p=/\.\/(.*)\.svg/,f=m(d).map((function(e){return e.match(p)[1]})),h=f,v={name:"IconSelect",data:function(){return{name:"",iconList:h}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=h},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=h}}},b=v,g=(a("6efe"),a("2877")),y=Object(g["a"])(b,c,u,!1,null,"29eae0d6",null),w=y.exports,_={name:"SysMenuManage",components:{Treeselect:l.a,IconSelect:w},data:function(){return{loading:!0,menuList:[],sysapiList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],queryParams:{title:void 0,visible:void 0},form:{apis:[],sysApi:[]},rules:{title:[{required:!0,message:"菜单标题不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getApiList(),this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data}))},methods:{handleChange:function(e,t,a){console.log(e,t,a);var s=this.form.sysApi;if(this.form.apis=e,"right"===t){for(var o=0;o<a.length;o++)for(var n=0;n<this.sysapiList.length;n++){var r=this.sysapiList[n];if(r.id===a[o]){s.push(r);break}}this.form.sysApi=s}else if("left"===t){for(var i=[],l=0;l<a.length;l++)for(var c=a[l],u=0;u<s.length;u++){var d=s[u];if(c!==d.id){i.push();break}}this.form.sysApi=i}console.log(this.form.sysApi)},getApiList:function(){var e=this;this.loading=!0,Object(r["d"])({pageSize:1e4,type:"BUS"}).then((function(t){e.sysapiList=t.data.list,e.loading=!1}))},handleClose:function(e){},selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.menuList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.title,children:e.children}},getTreeselect:function(){var e=this;Object(n["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,title:"主类目",children:[]};a.children=t.data,e.menuOptions.push(a)}))},visibleFormat:function(e){return"F"===e.menuType?"-- --":this.selectDictLabel(this.visibleOptions,e.visible)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",apis:[],sort:0,action:"A"===this.form.menuType?this.form.action:"",isFrame:"1",visible:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(n["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},setApis:function(e){for(var t=[],a=0;a<e.length;a++){var s=e[a];t.push(s.id)}this.form.apis=t},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.menuId?Object(n["f"])(e.form,e.form.menuId).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(n["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess(t.msg),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.title+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.menuId&&[e.menuId]||this.ids;return Object(n["b"])({ids:t})})).then((function(e){200===e.code?(t.msgSuccess(e.msg),t.open=!1,t.getList()):t.msgError(e.msg)})).catch((function(){}))}}},x=_,k=(a("fafe"),Object(g["a"])(x,s,o,!1,null,null,null));t["default"]=k.exports},f4cb:function(e,t,a){"use strict";a("8a5b")},fafe:function(e,t,a){"use strict";a("fe84")},fb8d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-timeline",e._l(e.timeline,(function(t,s){return a("el-timeline-item",{key:s,attrs:{timestamp:t.timestamp,placement:"top"}},[a("el-card",[a("h4",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.content))])])],1)})),1)],1)},o=[],n={data:function(){return{timeline:[{timestamp:"2019/4/20",title:"Update Github template",content:"PanJiaChen committed 2019/4/20 20:46"},{timestamp:"2019/4/21",title:"Update Github template",content:"PanJiaChen committed 2019/4/21 20:46"},{timestamp:"2019/4/22",title:"Build Template",content:"PanJiaChen committed 2019/4/22 20:46"},{timestamp:"2019/4/23",title:"Release New Version",content:"PanJiaChen committed 2019/4/23 20:46"}]}}},r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports},fe22:function(e,t,a){"use strict";a("8a81")},fe84:function(e,t,a){}}]);