{"remainingRequest":"D:\\project\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\go-admin-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\go-admin-ui\\src\\views\\admin\\sys-role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\go-admin-ui\\src\\views\\admin\\sys-role\\index.vue","mtime":1656853948067},{"path":"D:\\project\\go-admin-ui\\babel.config.js","mtime":1656853947966},{"path":"D:\\project\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656856444878},{"path":"D:\\project\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1656856444875},{"path":"D:\\project\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656856444878},{"path":"D:\\project\\go-admin-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1656856444983}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkQ6L3Byb2plY3QvZ28tYWRtaW4tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2ludGVyb3BSZXF1aXJlV2lsZGNhcmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGxpc3RSb2xlLCBnZXRSb2xlLCBkZWxSb2xlLCBhZGRSb2xlLCB1cGRhdGVSb2xlLCBkYXRhU2NvcGUsIGNoYW5nZVJvbGVTdGF0dXMgfSBmcm9tICdAL2FwaS9hZG1pbi9zeXMtcm9sZSc7CmltcG9ydCB7IHJvbGVNZW51VHJlZXNlbGVjdCB9IGZyb20gJ0AvYXBpL2FkbWluL3N5cy1tZW51JzsKaW1wb3J0IHsgdHJlZXNlbGVjdCBhcyBkZXB0VHJlZXNlbGVjdCwgcm9sZURlcHRUcmVlc2VsZWN0IH0gZnJvbSAnQC9hcGkvYWRtaW4vc3lzLWRlcHQnOwppbXBvcnQgeyBmb3JtYXRKc29uIH0gZnJvbSAnQC91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUm9sZScsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOinkuiJsuihqOagvOaVsOaNrgogICAgICByb2xlTGlzdDogW10sCiAgICAgIG1lbnVJZHNDaGVja2VkOiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAnJywKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYLvvIjmlbDmja7mnYPpmZDvvIkKICAgICAgb3BlbkRhdGFTY29wZTogZmFsc2UsCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIC8vIOaXpeacn+iMg+WbtAogICAgICBkYXRlUmFuZ2U6IFtdLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogW10sCiAgICAgIC8vIOaVsOaNruiMg+WbtOmAiemhuQogICAgICBkYXRhU2NvcGVPcHRpb25zOiBbewogICAgICAgIHZhbHVlOiAnMScsCiAgICAgICAgbGFiZWw6ICflhajpg6jmlbDmja7mnYPpmZAnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzInLAogICAgICAgIGxhYmVsOiAn6Ieq5a6a5pWw5o2u5p2D6ZmQJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICczJywKICAgICAgICBsYWJlbDogJ+acrOmDqOmXqOaVsOaNruadg+mZkCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnNCcsCiAgICAgICAgbGFiZWw6ICfmnKzpg6jpl6jlj4rku6XkuIvmlbDmja7mnYPpmZAnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzUnLAogICAgICAgIGxhYmVsOiAn5LuF5pys5Lq65pWw5o2u5p2D6ZmQJwogICAgICB9XSwKICAgICAgLy8g6I+c5Y2V5YiX6KGoCiAgICAgIG1lbnVPcHRpb25zOiBbXSwKICAgICAgbWVudUxpc3Q6IFtdLAogICAgICAvLyDpg6jpl6jliJfooagKICAgICAgZGVwdE9wdGlvbnM6IFtdLAogICAgICBtZW51T3B0aW9uc0FsZXJ0OiAn5Yqg6L295Lit77yM6K+356iN5ZCOJywKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZUluZGV4OiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHJvbGVLZXk6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybTogewogICAgICAgIHN5c01lbnU6IFtdCiAgICAgIH0sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIHJvbGVOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6KeS6Imy5ZCN56ew5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJvbGVLZXk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmnYPpmZDlrZfnrKbkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcm9sZVNvcnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfop5LoibLpobrluo/kuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRNZW51VHJlZXNlbGVjdCgpOwogICAgdGhpcy5nZXREaWN0cygnc3lzX25vcm1hbF9kaXNhYmxlJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMuc3RhdHVzT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6Lop5LoibLliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGlzdFJvbGUodGhpcy5hZGREYXRlUmFuZ2UodGhpcy5xdWVyeVBhcmFtcywgdGhpcy5kYXRlUmFuZ2UpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5yb2xlTGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICBfdGhpczIudG90YWwgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5p+l6K+i6I+c5Y2V5qCR57uT5p6EICovCiAgICBnZXRNZW51VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0TWVudVRyZWVzZWxlY3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcm9sZU1lbnVUcmVlc2VsZWN0KDApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLm1lbnVPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5tZW51czsKICAgICAgICBfdGhpczMubWVudUxpc3QgPSBfdGhpczMubWVudU9wdGlvbnM7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5p+l6K+i6YOo6Zeo5qCR57uT5p6EICovCiAgICBnZXREZXB0VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0RGVwdFRyZWVzZWxlY3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgZGVwdFRyZWVzZWxlY3QoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5kZXB0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5omA5pyJ6I+c5Y2V6IqC54K55pWw5o2uCiAgICBnZXRNZW51QWxsQ2hlY2tlZEtleXM6IGZ1bmN0aW9uIGdldE1lbnVBbGxDaGVja2VkS2V5cygpIHsKICAgICAgLy8g55uu5YmN6KKr6YCJ5Lit55qE6I+c5Y2V6IqC54K5CiAgICAgIHZhciBjaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMubWVudVRyZWUuZ2V0SGFsZkNoZWNrZWRLZXlzKCk7CiAgICAgIGNvbnNvbGUubG9nKCfnm67liY3ooqvpgInkuK3nmoToj5zljZXoioLngrknLCBjaGVja2VkS2V5cyk7IC8vIOWNiumAieS4reeahOiPnOWNleiKgueCuQoKICAgICAgdmFyIGhhbGZDaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMubWVudVRyZWUuZ2V0Q2hlY2tlZEtleXMoKTsKICAgICAgY29uc29sZS5sb2coJ+WNiumAieS4reeahOiPnOWNleiKgueCuScsIGhhbGZDaGVja2VkS2V5cyk7IC8vIGNoZWNrZWRLZXlzLnVuc2hpZnQuYXBwbHkoY2hlY2tlZEtleXMsIGhhbGZDaGVja2VkS2V5cykKCiAgICAgIHJldHVybiBoYWxmQ2hlY2tlZEtleXM7CiAgICB9LAogICAgLy8g5omA5pyJ6YOo6Zeo6IqC54K55pWw5o2uCiAgICBnZXREZXB0QWxsQ2hlY2tlZEtleXM6IGZ1bmN0aW9uIGdldERlcHRBbGxDaGVja2VkS2V5cygpIHsKICAgICAgLy8g55uu5YmN6KKr6YCJ5Lit55qE6YOo6Zeo6IqC54K5CiAgICAgIHZhciBjaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMuZGVwdC5nZXRDaGVja2VkS2V5cygpOyAvLyDljYrpgInkuK3nmoTpg6jpl6joioLngrkKICAgICAgLy8gY29uc3QgaGFsZkNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy5kZXB0LmdldENoZWNrZWRLZXlzKCkKICAgICAgLy8gY2hlY2tlZEtleXMudW5zaGlmdC5hcHBseShjaGVja2VkS2V5cywgaGFsZkNoZWNrZWRLZXlzKQoKICAgICAgcmV0dXJuIGNoZWNrZWRLZXlzOwogICAgfSwKCiAgICAvKiog5qC55o2u6KeS6ImySUTmn6Xor6Loj5zljZXmoJHnu5PmnoQgKi8KICAgIGdldFJvbGVNZW51VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0Um9sZU1lbnVUcmVlc2VsZWN0KHJvdywgY2hlY2tlZEtleXMpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAocm93LnJvbGVLZXkgPT09ICdhZG1pbicpIHsKICAgICAgICB0aGlzLm1lbnVPcHRpb25zQWxlcnQgPSAn57O757uf6LaF57qn566h55CG5ZGY5peg6ZyA5q2k5pON5L2cJzsKICAgICAgICB0aGlzLm1lbnVPcHRpb25zID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LiRyZWZzLm1lbnVUcmVlLnNldENoZWNrZWRLZXlzKGNoZWNrZWRLZXlzKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKiog5qC55o2u6KeS6ImySUTmn6Xor6Lpg6jpl6jmoJHnu5PmnoQgKi8KICAgIGdldFJvbGVEZXB0VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0Um9sZURlcHRUcmVlc2VsZWN0KHJvbGVJZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJvbGVEZXB0VHJlZXNlbGVjdChyb2xlSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM2LmRlcHRPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5kZXB0czsKCiAgICAgICAgX3RoaXM2LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczYuJHJlZnMuZGVwdC5zZXRDaGVja2VkS2V5cyhyZXNwb25zZS5kYXRhLmNoZWNrZWRLZXlzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6KeS6Imy54q25oCB5L+u5pS5CiAgICBoYW5kbGVTdGF0dXNDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVN0YXR1c0NoYW5nZShyb3cpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgdGV4dCA9IHJvdy5zdGF0dXMgPT09ICcyJyA/ICflkK/nlKgnIDogJ+WBnOeUqCc7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOimgSInICsgdGV4dCArICciIicgKyByb3cucm9sZU5hbWUgKyAnIuinkuiJsuWQlz8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGNoYW5nZVJvbGVTdGF0dXMocm93LnJvbGVJZCwgcm93LnN0YXR1cyk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCdyZXMnLCByZXMpOwoKICAgICAgICBfdGhpczcubXNnU3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHJvdy5zdGF0dXMgPSByb3cuc3RhdHVzID09PSAnMicgPyAnMScgOiAnMic7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKu77yI5pWw5o2u5p2D6ZmQ77yJCiAgICBjYW5jZWxEYXRhU2NvcGU6IGZ1bmN0aW9uIGNhbmNlbERhdGFTY29wZSgpIHsKICAgICAgdGhpcy5vcGVuRGF0YVNjb3BlID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5tZW51T3B0aW9ucyA9IHRoaXMubWVudUxpc3Q7CgogICAgICBpZiAodGhpcy4kcmVmcy5tZW51VHJlZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51VHJlZS5zZXRDaGVja2VkS2V5cyhbXSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICByb2xlSWQ6IHVuZGVmaW5lZCwKICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHJvbGVLZXk6IHVuZGVmaW5lZCwKICAgICAgICByb2xlU29ydDogMCwKICAgICAgICBzdGF0dXM6ICcyJywKICAgICAgICBtZW51SWRzOiBbXSwKICAgICAgICBkZXB0SWRzOiBbXSwKICAgICAgICBzeXNNZW51OiBbXSwKICAgICAgICByZW1hcms6IHVuZGVmaW5lZAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAoKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMuZGF0ZVJhbmdlID0gW107CiAgICAgIHRoaXMucmVzZXRGb3JtKCdxdWVyeUZvcm0nKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnJvbGVJZDsKICAgICAgfSk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgfSwKCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOyAvLyB0aGlzLmdldE1lbnVUcmVlc2VsZWN0KDApCgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOinkuiJsic7CiAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlU29ydENoYW5nOiBmdW5jdGlvbiBoYW5kbGVTb3J0Q2hhbmcoY29sdW1uLCBwcm9wLCBvcmRlcikgewogICAgICBwcm9wID0gY29sdW1uLnByb3A7CiAgICAgIG9yZGVyID0gY29sdW1uLm9yZGVyOwoKICAgICAgaWYgKG9yZGVyID09PSAnZGVzY2VuZGluZycpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zW3Byb3AgKyAnT3JkZXInXSA9ICdkZXNjJzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ2FzY2VuZGluZycpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zW3Byb3AgKyAnT3JkZXInXSA9ICdhc2MnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXNbcHJvcCArICdPcmRlciddID0gdW5kZWZpbmVkOwogICAgICB9CgogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5tZW51SWRzQ2hlY2tlZCA9IFtdOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciByb2xlSWQgPSByb3cucm9sZUlkIHx8IHRoaXMuaWRzOwogICAgICBnZXRSb2xlKHJvbGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczguZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM4Lm1lbnVJZHNDaGVja2VkID0gcmVzcG9uc2UuZGF0YS5tZW51SWRzOwogICAgICAgIF90aGlzOC50aXRsZSA9ICfkv67mlLnop5LoibInOwogICAgICAgIF90aGlzOC5pc0VkaXQgPSB0cnVlOwogICAgICAgIF90aGlzOC5vcGVuID0gdHJ1ZTsKCiAgICAgICAgX3RoaXM4LmdldFJvbGVNZW51VHJlZXNlbGVjdChyb3csIHJlc3BvbnNlLmRhdGEubWVudUlkcyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5YiG6YWN5pWw5o2u5p2D6ZmQ5pON5L2cICovCiAgICBoYW5kbGVEYXRhU2NvcGU6IGZ1bmN0aW9uIGhhbmRsZURhdGFTY29wZShyb3cpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGdldFJvbGUocm93LnJvbGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczkuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM5Lm9wZW5EYXRhU2NvcGUgPSB0cnVlOwogICAgICAgIF90aGlzOS50aXRsZSA9ICfliIbphY3mlbDmja7mnYPpmZAnOwoKICAgICAgICBfdGhpczkuZ2V0Um9sZURlcHRUcmVlc2VsZWN0KHJvdy5yb2xlSWQpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMTAuZm9ybS5yb2xlSWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBfdGhpczEwLmZvcm0ubWVudUlkcyA9IF90aGlzMTAuZ2V0TWVudUFsbENoZWNrZWRLZXlzKCk7CiAgICAgICAgICAgIHVwZGF0ZVJvbGUoX3RoaXMxMC5mb3JtLCBfdGhpczEwLmZvcm0ucm9sZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMTAubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpOwoKICAgICAgICAgICAgICAgIF90aGlzMTAub3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzMTAuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczEwLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTAuZm9ybS5tZW51SWRzID0gX3RoaXMxMC5nZXRNZW51QWxsQ2hlY2tlZEtleXMoKTsKICAgICAgICAgICAgYWRkUm9sZShfdGhpczEwLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXMxMC5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZyk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMTAubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq7vvIjmlbDmja7mnYPpmZDvvIkgKi8KICAgIHN1Ym1pdERhdGFTY29wZTogZnVuY3Rpb24gc3VibWl0RGF0YVNjb3BlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5mb3JtLnJvbGVJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5mb3JtLmRlcHRJZHMgPSB0aGlzLmdldERlcHRBbGxDaGVja2VkS2V5cygpOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0RGVwdEFsbENoZWNrZWRLZXlzKCkpOwogICAgICAgIGRhdGFTY29wZSh0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzMTEubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpOwoKICAgICAgICAgICAgX3RoaXMxMS5vcGVuRGF0YVNjb3BlID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczExLmdldExpc3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTEubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdmFyIHJvbGVJZHMgPSByb3cucm9sZUlkICYmIFtyb3cucm9sZUlkXSB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6KeS6Imy57yW5Y+35Li6IicgKyByb2xlSWRzICsgJyLnmoTmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBkZWxSb2xlKHsKICAgICAgICAgICdpZHMnOiByb2xlSWRzCiAgICAgICAgfSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxMi5nZXRMaXN0KCk7CgogICAgICAgIF90aGlzMTIubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAoKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydDogZnVuY3Rpb24gaGFuZGxlRXhwb3J0KCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTlr7zlh7rmiYDmnInop5LoibLmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTMuZG93bmxvYWRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKSk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZXhjZWwpIHsKICAgICAgICAgIHZhciB0SGVhZGVyID0gWyfop5LoibLnvJblj7cnLCAn6KeS6Imy5ZCN56ewJywgJ+adg+mZkOWtl+espicsICfmmL7npLrpobrluo8nLCAn54q25oCBJywgJ+WIm+W7uuaXtumXtCddOwogICAgICAgICAgdmFyIGZpbHRlclZhbCA9IFsncm9sZUlkJywgJ3JvbGVOYW1lJywgJ3JvbGVLZXknLCAncm9sZVNvcnQnLCAnc3RhdHVzJywgJ2NyZWF0ZWRBdCddOwogICAgICAgICAgdmFyIGxpc3QgPSBfdGhpczEzLnJvbGVMaXN0OwogICAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXRKc29uKGZpbHRlclZhbCwgbGlzdCk7CiAgICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICAgIGhlYWRlcjogdEhlYWRlciwKICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgZmlsZW5hbWU6ICfop5LoibLnrqHnkIYnLAogICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgIC8vIE9wdGlvbmFsCiAgICAgICAgICAgIGJvb2tUeXBlOiAneGxzeCcgLy8gT3B0aW9uYWwKCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMTMuZG93bmxvYWRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <BasicLayout>\r\n    <template #wrapper>\r\n      <el-card class=\"box-card\">\r\n        <el-form ref=\"queryForm\" :model=\"queryParams\" :inline=\"true\">\r\n          <el-form-item label=\"名称\" prop=\"roleName\">\r\n            <el-input\r\n              v-model=\"queryParams.roleName\"\r\n              placeholder=\"请输入角色名称\"\r\n              clearable\r\n              size=\"small\"\r\n              style=\"width: 160px\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"权限字符\" prop=\"roleKey\">\r\n            <el-input\r\n              v-model=\"queryParams.roleKey\"\r\n              placeholder=\"请输入权限字符\"\r\n              clearable\r\n              size=\"small\"\r\n              style=\"width: 160px\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\" prop=\"status\">\r\n            <el-select\r\n              v-model=\"queryParams.status\"\r\n              placeholder=\"角色状态\"\r\n              clearable\r\n              size=\"small\"\r\n              style=\"width: 160px\"\r\n            >\r\n              <el-option\r\n                v-for=\"dict in statusOptions\"\r\n                :key=\"dict.value\"\r\n                :label=\"dict.label\"\r\n                :value=\"dict.value\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"创建时间\">\r\n            <el-date-picker\r\n              v-model=\"dateRange\"\r\n              size=\"small\"\r\n              style=\"width: 240px\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              type=\"daterange\"\r\n              range-separator=\"-\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n            />\r\n          </el-form-item> -->\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <el-row :gutter=\"10\" class=\"mb8\">\r\n          <el-col :span=\"1.5\">\r\n            <el-button\r\n              v-permisaction=\"['admin:sysRole:add']\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-plus\"\r\n              size=\"mini\"\r\n              @click=\"handleAdd\"\r\n            >新增</el-button>\r\n          </el-col>\r\n          <el-col :span=\"1.5\">\r\n            <el-button\r\n              v-permisaction=\"['admin:sysRole:update']\"\r\n              type=\"success\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              :disabled=\"single\"\r\n              @click=\"handleUpdate\"\r\n            >修改</el-button>\r\n          </el-col>\r\n          <el-col :span=\"1.5\">\r\n            <el-button\r\n              v-permisaction=\"['admin:sysRole:remove']\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              :disabled=\"multiple\"\r\n              @click=\"handleDelete\"\r\n            >删除</el-button>\r\n          </el-col>\r\n          <el-col :span=\"1.5\">\r\n            <el-button\r\n              v-permisaction=\"['admin:sysRole:export']\"\r\n              type=\"warning\"\r\n              icon=\"el-icon-download\"\r\n              size=\"mini\"\r\n              @click=\"handleExport\"\r\n            >导出</el-button>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"roleList\"\r\n          border\r\n          @selection-change=\"handleSelectionChange\"\r\n          @sort-change=\"handleSortChang\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <el-table-column label=\"编码\" sortable=\"custom\" prop=\"roleId\" width=\"80\" />\r\n          <el-table-column label=\"名称\" sortable=\"custom\" prop=\"roleName\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"权限字符\" prop=\"roleKey\" :show-overflow-tooltip=\"true\" width=\"150\" />\r\n          <el-table-column label=\"排序\" sortable=\"custom\" prop=\"roleSort\" width=\"80\" />\r\n          <el-table-column label=\"状态\" sortable=\"custom\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-switch\r\n                v-model=\"scope.row.status\"\r\n                active-value=\"2\"\r\n                inactive-value=\"1\"\r\n                @change=\"handleStatusChange(scope.row)\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"创建时间\" sortable=\"custom\" prop=\"createdAt\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ parseTime(scope.row.createdAt) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"操作\"\r\n            align=\"left\"\r\n            class-name=\"small-padding fixed-width\"\r\n            width=\"220\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                v-permisaction=\"['admin:sysRole:update']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-edit\"\r\n                @click=\"handleUpdate(scope.row)\"\r\n              >修改</el-button>\r\n              <el-button\r\n                v-permisaction=\"['admin:sysRole:update']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-circle-check\"\r\n                @click=\"handleDataScope(scope.row)\"\r\n              >数据权限</el-button>\r\n              <el-button\r\n                v-if=\"scope.row.roleKey!=='admin'\"\r\n                v-permisaction=\"['admin:sysRole:remove']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"handleDelete(scope.row)\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <pagination\r\n          v-show=\"total>0\"\r\n          :total=\"total\"\r\n          :page.sync=\"queryParams.pageIndex\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getList\"\r\n        />\r\n\r\n        <!-- 添加或修改角色配置对话框 -->\r\n        <el-dialog v-if=\"open\" :title=\"title\" :visible.sync=\"open\" width=\"500px\">\r\n          <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n            <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n              <el-input v-model=\"form.roleName\" placeholder=\"请输入角色名称\" :disabled=\"isEdit\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"权限字符\" prop=\"roleKey\">\r\n              <el-input v-model=\"form.roleKey\" placeholder=\"请输入权限字符\" :disabled=\"isEdit\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"角色顺序\" prop=\"roleSort\">\r\n              <el-input-number v-model=\"form.roleSort\" controls-position=\"right\" :min=\"0\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"状态\">\r\n              <el-radio-group v-model=\"form.status\">\r\n                <el-radio\r\n                  v-for=\"dict in statusOptions\"\r\n                  :key=\"dict.value\"\r\n                  :label=\"dict.value\"\r\n                >{{ dict.label }}</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"菜单权限\">\r\n              <el-tree\r\n                ref=\"menuTree\"\r\n                :data=\"menuOptions\"\r\n                show-checkbox\r\n                node-key=\"id\"\r\n                :empty-text=\"menuOptionsAlert\"\r\n                style=\"height:171px;overflow-y:auto;overflow-x:hidden;\"\r\n              />\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\">\r\n              <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\" />\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n            <el-button @click=\"cancel\">取 消</el-button>\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 分配角色数据权限对话框 -->\r\n        <el-dialog v-if=\"openDataScope\" :title=\"title\" :visible.sync=\"openDataScope\" width=\"500px\">\r\n          <el-form :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"角色名称\">\r\n              <el-input v-model=\"form.roleName\" :disabled=\"true\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"权限字符\">\r\n              <el-input v-model=\"form.roleKey\" :disabled=\"true\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"权限范围\">\r\n              <el-select v-model=\"form.dataScope\">\r\n                <el-option\r\n                  v-for=\"item in dataScopeOptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                />\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-show=\"form.dataScope == 2\" label=\"数据权限\">\r\n              <el-tree\r\n                ref=\"dept\"\r\n                :data=\"deptOptions\"\r\n                show-checkbox\r\n                default-expand-all\r\n                node-key=\"id\"\r\n                empty-text=\"加载中，请稍后\"\r\n                :props=\"defaultProps\"\r\n              />\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button type=\"primary\" @click=\"submitDataScope\">确 定</el-button>\r\n            <el-button @click=\"cancelDataScope\">取 消</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </el-card>\r\n    </template>\r\n  </BasicLayout>\r\n</template>\r\n\r\n<script>\r\nimport { listRole, getRole, delRole, addRole, updateRole, dataScope, changeRoleStatus } from '@/api/admin/sys-role'\r\nimport { roleMenuTreeselect } from '@/api/admin/sys-menu'\r\nimport { treeselect as deptTreeselect, roleDeptTreeselect } from '@/api/admin/sys-dept'\r\nimport { formatJson } from '@/utils'\r\n\r\nexport default {\r\n  name: 'Role',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 角色表格数据\r\n      roleList: [],\r\n      menuIdsChecked: [],\r\n      // 弹出层标题\r\n      title: '',\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 是否显示弹出层（数据权限）\r\n      openDataScope: false,\r\n      isEdit: false,\r\n      // 日期范围\r\n      dateRange: [],\r\n      // 状态数据字典\r\n      statusOptions: [],\r\n      // 数据范围选项\r\n      dataScopeOptions: [\r\n        {\r\n          value: '1',\r\n          label: '全部数据权限'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '自定数据权限'\r\n        },\r\n        {\r\n          value: '3',\r\n          label: '本部门数据权限'\r\n        },\r\n        {\r\n          value: '4',\r\n          label: '本部门及以下数据权限'\r\n        },\r\n        {\r\n          value: '5',\r\n          label: '仅本人数据权限'\r\n        }\r\n      ],\r\n      // 菜单列表\r\n      menuOptions: [],\r\n      menuList: [],\r\n      // 部门列表\r\n      deptOptions: [],\r\n      menuOptionsAlert: '加载中，请稍后',\r\n      // 查询参数\r\n      queryParams: {\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        roleName: undefined,\r\n        roleKey: undefined,\r\n        status: undefined\r\n      },\r\n      // 表单参数\r\n      form: {\r\n        sysMenu: []\r\n      },\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'label'\r\n      },\r\n      // 表单校验\r\n      rules: {\r\n        roleName: [\r\n          { required: true, message: '角色名称不能为空', trigger: 'blur' }\r\n        ],\r\n        roleKey: [\r\n          { required: true, message: '权限字符不能为空', trigger: 'blur' }\r\n        ],\r\n        roleSort: [\r\n          { required: true, message: '角色顺序不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    this.getMenuTreeselect()\r\n    this.getDicts('sys_normal_disable').then(response => {\r\n      this.statusOptions = response.data\r\n    })\r\n  },\r\n  methods: {\r\n    /** 查询角色列表 */\r\n    getList() {\r\n      this.loading = true\r\n      listRole(this.addDateRange(this.queryParams, this.dateRange)).then(\r\n        response => {\r\n          this.roleList = response.data.list\r\n          this.total = response.data.count\r\n          this.loading = false\r\n        }\r\n      )\r\n    },\r\n    /** 查询菜单树结构 */\r\n    getMenuTreeselect() {\r\n      roleMenuTreeselect(0).then(response => {\r\n        this.menuOptions = response.data.menus\r\n        this.menuList = this.menuOptions\r\n      })\r\n    },\r\n    /** 查询部门树结构 */\r\n    getDeptTreeselect() {\r\n      deptTreeselect().then(response => {\r\n        this.deptOptions = response.data.list\r\n      })\r\n    },\r\n    // 所有菜单节点数据\r\n    getMenuAllCheckedKeys() {\r\n      // 目前被选中的菜单节点\r\n      const checkedKeys = this.$refs.menuTree.getHalfCheckedKeys()\r\n      console.log('目前被选中的菜单节点', checkedKeys)\r\n      // 半选中的菜单节点\r\n      const halfCheckedKeys = this.$refs.menuTree.getCheckedKeys()\r\n      console.log('半选中的菜单节点', halfCheckedKeys)\r\n      // checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys)\r\n      return halfCheckedKeys\r\n    },\r\n    // 所有部门节点数据\r\n    getDeptAllCheckedKeys() {\r\n      // 目前被选中的部门节点\r\n      const checkedKeys = this.$refs.dept.getCheckedKeys()\r\n      // 半选中的部门节点\r\n      // const halfCheckedKeys = this.$refs.dept.getCheckedKeys()\r\n      // checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys)\r\n      return checkedKeys\r\n    },\r\n    /** 根据角色ID查询菜单树结构 */\r\n    getRoleMenuTreeselect(row, checkedKeys) {\r\n      if (row.roleKey === 'admin') {\r\n        this.menuOptionsAlert = '系统超级管理员无需此操作'\r\n        this.menuOptions = []\r\n      } else {\r\n        this.$nextTick(() => {\r\n          this.$refs.menuTree.setCheckedKeys(checkedKeys)\r\n        })\r\n      }\r\n    },\r\n    /** 根据角色ID查询部门树结构 */\r\n    getRoleDeptTreeselect(roleId) {\r\n      roleDeptTreeselect(roleId).then(response => {\r\n        this.deptOptions = response.data.depts\r\n        this.$nextTick(() => {\r\n          this.$refs.dept.setCheckedKeys(response.data.checkedKeys)\r\n        })\r\n      })\r\n    },\r\n    // 角色状态修改\r\n    handleStatusChange(row) {\r\n      const text = row.status === '2' ? '启用' : '停用'\r\n      this.$confirm('确认要\"' + text + '\"\"' + row.roleName + '\"角色吗?', '警告', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(function() {\r\n        return changeRoleStatus(row.roleId, row.status)\r\n      }).then((res) => {\r\n        console.log('res', res)\r\n        this.msgSuccess(res.msg)\r\n      }).catch(function() {\r\n        row.status = row.status === '2' ? '1' : '2'\r\n      })\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.open = false\r\n      this.reset()\r\n    },\r\n    // 取消按钮（数据权限）\r\n    cancelDataScope() {\r\n      this.openDataScope = false\r\n      this.reset()\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.menuOptions = this.menuList\r\n      if (this.$refs.menuTree !== undefined) {\r\n        this.$refs.menuTree.setCheckedKeys([])\r\n      }\r\n      this.form = {\r\n        roleId: undefined,\r\n        roleName: undefined,\r\n        roleKey: undefined,\r\n        roleSort: 0,\r\n        status: '2',\r\n        menuIds: [],\r\n        deptIds: [],\r\n        sysMenu: [],\r\n        remark: undefined\r\n      }\r\n      this.resetForm('form')\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageIndex = 1\r\n      this.getList()\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.dateRange = []\r\n      this.resetForm('queryForm')\r\n      this.handleQuery()\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.roleId)\r\n      this.single = selection.length !== 1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.reset()\r\n      // this.getMenuTreeselect(0)\r\n      this.open = true\r\n      this.title = '添加角色'\r\n      this.isEdit = false\r\n    },\r\n    handleSortChang(column, prop, order) {\r\n      prop = column.prop\r\n      order = column.order\r\n      if (order === 'descending') {\r\n        this.queryParams[prop + 'Order'] = 'desc'\r\n      } else if (order === 'ascending') {\r\n        this.queryParams[prop + 'Order'] = 'asc'\r\n      } else {\r\n        this.queryParams[prop + 'Order'] = undefined\r\n      }\r\n      this.getList()\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.menuIdsChecked = []\r\n      this.reset()\r\n      const roleId = row.roleId || this.ids\r\n      getRole(roleId).then(response => {\r\n        this.form = response.data\r\n        this.menuIdsChecked = response.data.menuIds\r\n        this.title = '修改角色'\r\n        this.isEdit = true\r\n        this.open = true\r\n        this.getRoleMenuTreeselect(row, response.data.menuIds)\r\n      })\r\n    },\r\n    /** 分配数据权限操作 */\r\n    handleDataScope(row) {\r\n      this.reset()\r\n      getRole(row.roleId).then(response => {\r\n        this.form = response.data\r\n        this.openDataScope = true\r\n        this.title = '分配数据权限'\r\n        this.getRoleDeptTreeselect(row.roleId)\r\n      })\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm: function() {\r\n      this.$refs['form'].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.roleId !== undefined) {\r\n            this.form.menuIds = this.getMenuAllCheckedKeys()\r\n            updateRole(this.form, this.form.roleId).then(response => {\r\n              if (response.code === 200) {\r\n                this.msgSuccess(response.msg)\r\n                this.open = false\r\n                this.getList()\r\n              } else {\r\n                this.msgError(response.msg)\r\n              }\r\n            })\r\n          } else {\r\n            this.form.menuIds = this.getMenuAllCheckedKeys()\r\n            addRole(this.form).then(response => {\r\n              if (response.code === 200) {\r\n                this.msgSuccess(response.msg)\r\n                this.open = false\r\n                this.getList()\r\n              } else {\r\n                this.msgError(response.msg)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /** 提交按钮（数据权限） */\r\n    submitDataScope: function() {\r\n      if (this.form.roleId !== undefined) {\r\n        this.form.deptIds = this.getDeptAllCheckedKeys()\r\n        console.log(this.getDeptAllCheckedKeys())\r\n        dataScope(this.form).then(response => {\r\n          if (response.code === 200) {\r\n            this.msgSuccess(response.msg)\r\n            this.openDataScope = false\r\n            this.getList()\r\n          } else {\r\n            this.msgError(response.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const roleIds = (row.roleId && [row.roleId]) || this.ids\r\n      this.$confirm('是否确认删除角色编号为\"' + roleIds + '\"的数据项?', '警告', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(function() {\r\n        return delRole({ 'ids': roleIds })\r\n      }).then((response) => {\r\n        this.getList()\r\n        this.msgSuccess(response.msg)\r\n      }).catch(function() {})\r\n    },\r\n    /** 导出按钮操作 */\r\n    handleExport() {\r\n      this.$confirm('是否确认导出所有角色数据项?', '警告', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.downloadLoading = true\r\n        import('@/vendor/Export2Excel').then(excel => {\r\n          const tHeader = ['角色编号', '角色名称', '权限字符', '显示顺序', '状态', '创建时间']\r\n          const filterVal = ['roleId', 'roleName', 'roleKey', 'roleSort', 'status', 'createdAt']\r\n          const list = this.roleList\r\n          const data = formatJson(filterVal, list)\r\n          excel.export_json_to_excel({\r\n            header: tHeader,\r\n            data,\r\n            filename: '角色管理',\r\n            autoWidth: true, // Optional\r\n            bookType: 'xlsx' // Optional\r\n          })\r\n          this.downloadLoading = false\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/admin/sys-role"}]}