{"remainingRequest":"D:\\project\\SN\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\SN\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\SN\\go-admin-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\SN\\go-admin-ui\\src\\views\\admin\\sys-menu\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\SN\\go-admin-ui\\src\\views\\admin\\sys-menu\\index.vue","mtime":1656928972270},{"path":"D:\\project\\SN\\go-admin-ui\\babel.config.js","mtime":1656928972012},{"path":"D:\\project\\SN\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656929009565},{"path":"D:\\project\\SN\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1656929009473},{"path":"D:\\project\\SN\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656929009565},{"path":"D:\\project\\SN\\go-admin-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1656929012008}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbGlzdE1lbnUsIGdldE1lbnUsIGRlbE1lbnUsIGFkZE1lbnUsIHVwZGF0ZU1lbnUgfSBmcm9tICdAL2FwaS9hZG1pbi9zeXMtbWVudSc7CmltcG9ydCB7IGxpc3RTeXNBcGkgfSBmcm9tICdAL2FwaS9hZG1pbi9zeXMtYXBpJzsKaW1wb3J0IFRyZWVzZWxlY3QgZnJvbSAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QnOwppbXBvcnQgJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzJzsKaW1wb3J0IEljb25TZWxlY3QgZnJvbSAnQC9jb21wb25lbnRzL0ljb25TZWxlY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N5c01lbnVNYW5hZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIFRyZWVzZWxlY3Q6IFRyZWVzZWxlY3QsCiAgICBJY29uU2VsZWN0OiBJY29uU2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOiPnOWNleihqOagvOagkeaVsOaNrgogICAgICBtZW51TGlzdDogW10sCiAgICAgIHN5c2FwaUxpc3Q6IFtdLAogICAgICAvLyDoj5zljZXmoJHpgInpobkKICAgICAgbWVudU9wdGlvbnM6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICcnLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOiPnOWNleeKtuaAgeaVsOaNruWtl+WFuAogICAgICB2aXNpYmxlT3B0aW9uczogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHRpdGxlOiB1bmRlZmluZWQsCiAgICAgICAgdmlzaWJsZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7CiAgICAgICAgYXBpczogW10sCiAgICAgICAgc3lzQXBpOiBbXQogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iPnOWNleagh+mimOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBzb3J0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6I+c5Y2V6aG65bqP5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0QXBpTGlzdCgpOwogICAgdGhpcy5nZXREaWN0cygnc3lzX3Nob3dfaGlkZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnZpc2libGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUsIGRpcmVjdGlvbiwgbW92ZWRLZXlzKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCBkaXJlY3Rpb24sIG1vdmVkS2V5cyk7CiAgICAgIHZhciBsaXN0ID0gdGhpcy5mb3JtLnN5c0FwaTsKICAgICAgdGhpcy5mb3JtLmFwaXMgPSB2YWx1ZTsKCiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHsKICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1vdmVkS2V5cy5sZW5ndGg7IHgrKykgewogICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc3lzYXBpTGlzdC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnN5c2FwaUxpc3RbaW5kZXhdOwoKICAgICAgICAgICAgaWYgKGVsZW1lbnQuaWQgPT09IG1vdmVkS2V5c1t4XSkgewogICAgICAgICAgICAgIGxpc3QucHVzaChlbGVtZW50KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5mb3JtLnN5c0FwaSA9IGxpc3Q7CiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHsKICAgICAgICB2YXIgbCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBfaW5kZXggPSAwOyBfaW5kZXggPCBtb3ZlZEtleXMubGVuZ3RoOyBfaW5kZXgrKykgewogICAgICAgICAgdmFyIF9lbGVtZW50ID0gbW92ZWRLZXlzW19pbmRleF07CgogICAgICAgICAgZm9yICh2YXIgX3ggPSAwOyBfeCA8IGxpc3QubGVuZ3RoOyBfeCsrKSB7CiAgICAgICAgICAgIHZhciBlID0gbGlzdFtfeF07CgogICAgICAgICAgICBpZiAoX2VsZW1lbnQgIT09IGUuaWQpIHsKICAgICAgICAgICAgICBsLnB1c2goKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5mb3JtLnN5c0FwaSA9IGw7CiAgICAgIH0gLy8gdGhpcy5zZXRBcGlzKHRoaXMuZm9ybS5TeXNBcGkpCgoKICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtLnN5c0FwaSk7CiAgICB9LAogICAgZ2V0QXBpTGlzdDogZnVuY3Rpb24gZ2V0QXBpTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsaXN0U3lzQXBpKHsKICAgICAgICAncGFnZVNpemUnOiAxMDAwMCwKICAgICAgICAndHlwZSc6ICdCVVMnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnN5c2FwaUxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKGRvbmUpIHsvLyBpZiAodGhpcy5sb2FkaW5nKSB7CiAgICAgIC8vICAgcmV0dXJuCiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy4kY29uZmlybSgn6ZyA6KaB5o+Q5Lqk6KGo5Y2V5ZCX77yfJykKICAgICAgLy8gICAudGhlbihfID0+IHsKICAgICAgLy8gICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgLy8gICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICAgICAgZG9uZSgpCiAgICAgIC8vICAgICAgIC8vIOWKqOeUu+WFs+mXremcgOimgeS4gOWumueahOaXtumXtAogICAgICAvLyAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAvLyAgICAgICB9LCA0MDApCiAgICAgIC8vICAgICB9LCAxMDAwKQogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKF8gPT4ge30pCiAgICB9LAogICAgLy8g6YCJ5oup5Zu+5qCHCiAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQobmFtZSkgewogICAgICB0aGlzLmZvcm0uaWNvbiA9IG5hbWU7CiAgICB9LAoKICAgIC8qKiDmn6Xor6Loj5zljZXliJfooaggKi8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGlzdE1lbnUodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMubWVudUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog6L2s5o2i6I+c5Y2V5pWw5o2u57uT5p6EICovCiAgICBub3JtYWxpemVyOiBmdW5jdGlvbiBub3JtYWxpemVyKG5vZGUpIHsKICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgIW5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IG5vZGUubWVudUlkLAogICAgICAgIGxhYmVsOiBub2RlLnRpdGxlLAogICAgICAgIGNoaWxkcmVuOiBub2RlLmNoaWxkcmVuCiAgICAgIH07CiAgICB9LAoKICAgIC8qKiDmn6Xor6Loj5zljZXkuIvmi4nmoJHnu5PmnoQgKi8KICAgIGdldFRyZWVzZWxlY3Q6IGZ1bmN0aW9uIGdldFRyZWVzZWxlY3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgbGlzdE1lbnUoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5tZW51T3B0aW9ucyA9IFtdOwogICAgICAgIHZhciBtZW51ID0gewogICAgICAgICAgbWVudUlkOiAwLAogICAgICAgICAgdGl0bGU6ICfkuLvnsbvnm64nLAogICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgfTsKICAgICAgICBtZW51LmNoaWxkcmVuID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgX3RoaXM0Lm1lbnVPcHRpb25zLnB1c2gobWVudSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiPnOWNleaYvuekuueKtuaAgeWtl+WFuOe/u+ivkQogICAgdmlzaWJsZUZvcm1hdDogZnVuY3Rpb24gdmlzaWJsZUZvcm1hdChyb3cpIHsKICAgICAgaWYgKHJvdy5tZW51VHlwZSA9PT0gJ0YnKSB7CiAgICAgICAgcmV0dXJuICctLSAtLSc7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RMYWJlbCh0aGlzLnZpc2libGVPcHRpb25zLCByb3cudmlzaWJsZSk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIG1lbnVJZDogdW5kZWZpbmVkLAogICAgICAgIHBhcmVudElkOiAwLAogICAgICAgIG1lbnVOYW1lOiB1bmRlZmluZWQsCiAgICAgICAgaWNvbjogdW5kZWZpbmVkLAogICAgICAgIG1lbnVUeXBlOiAnTScsCiAgICAgICAgYXBpczogW10sCiAgICAgICAgc29ydDogMCwKICAgICAgICBhY3Rpb246IHRoaXMuZm9ybS5tZW51VHlwZSA9PT0gJ0EnID8gdGhpcy5mb3JtLmFjdGlvbiA6ICcnLAogICAgICAgIGlzRnJhbWU6ICcxJywKICAgICAgICB2aXNpYmxlOiAnMCcKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKICAgIH0sCgogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQocm93KSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5nZXRUcmVlc2VsZWN0KCk7CgogICAgICBpZiAocm93ICE9IG51bGwpIHsKICAgICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cubWVudUlkOwogICAgICB9CgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOiPnOWNlSc7CiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5nZXRUcmVlc2VsZWN0KCk7CiAgICAgIGdldE1lbnUocm93Lm1lbnVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM1Lm9wZW4gPSB0cnVlOwogICAgICAgIF90aGlzNS50aXRsZSA9ICfkv67mlLnoj5zljZUnOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRBcGlzOiBmdW5jdGlvbiBzZXRBcGlzKGFwaUFycmF5KSB7CiAgICAgIHZhciBsID0gW107CgogICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgYXBpQXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBhcGlBcnJheVtpbmRleF07CiAgICAgICAgbC5wdXNoKGVsZW1lbnQuaWQpOwogICAgICB9CgogICAgICB0aGlzLmZvcm0uYXBpcyA9IGw7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzNi5mb3JtLm1lbnVJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHVwZGF0ZU1lbnUoX3RoaXM2LmZvcm0sIF90aGlzNi5mb3JtLm1lbnVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczYubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpOwoKICAgICAgICAgICAgICAgIF90aGlzNi5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXM2LmdldExpc3QoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM2Lm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFkZE1lbnUoX3RoaXM2LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM2Lm1zZ1N1Y2Nlc3MocmVzcG9uc2UubXNnKTsKCiAgICAgICAgICAgICAgICBfdGhpczYub3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzNi5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzNi5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5ZCN56ew5Li6IicgKyByb3cudGl0bGUgKyAnIueahOaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIElkcyA9IHJvdy5tZW51SWQgJiYgW3Jvdy5tZW51SWRdIHx8IHRoaXMuaWRzOwogICAgICAgIHJldHVybiBkZWxNZW51KHsKICAgICAgICAgICdpZHMnOiBJZHMKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczcubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpOwoKICAgICAgICAgIF90aGlzNy5vcGVuID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM3LmdldExpc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM3Lm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <BasicLayout>\r\n    <template #wrapper>\r\n      <el-card class=\"box-card\">\r\n        <el-form :inline=\"true\">\r\n          <el-form-item label=\"菜单名称\">\r\n            <el-input\r\n              v-model=\"queryParams.title\"\r\n              placeholder=\"请输入菜单名称\"\r\n              clearable\r\n              size=\"small\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\">\r\n            <el-select v-model=\"queryParams.visible\" placeholder=\"菜单状态\" clearable size=\"small\">\r\n              <el-option\r\n                v-for=\"dict in visibleOptions\"\r\n                :key=\"dict.value\"\r\n                :label=\"dict.label\"\r\n                :value=\"dict.value\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n            <el-button\r\n              v-permisaction=\"['admin:sysMenu:add']\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-plus\"\r\n              size=\"mini\"\r\n              @click=\"handleAdd\"\r\n            >新增</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"menuList\"\r\n          border\r\n          row-key=\"menuId\"\r\n          :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n        >\r\n          <el-table-column prop=\"title\" label=\"菜单名称\" :show-overflow-tooltip=\"true\" width=\"180px\" />\r\n          <el-table-column prop=\"icon\" label=\"图标\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"scope\">\r\n              <svg-icon :icon-class=\"scope.row.icon\" />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"sort\" label=\"排序\" width=\"60px\" />\r\n          <el-table-column prop=\"permission\" label=\"权限标识\" :show-overflow-tooltip=\"true\">\r\n            <template slot-scope=\"scope\">\r\n              <el-popover v-if=\"scope.row.sysApi.length>0\" trigger=\"hover\" placement=\"top\">\r\n                <el-table\r\n                  :data=\"scope.row.sysApi\"\r\n                  border\r\n                  style=\"width: 100%\"\r\n                >\r\n                  <el-table-column\r\n                    prop=\"title\"\r\n                    label=\"title\"\r\n                    width=\"260px\"\r\n                  >\r\n                    <template slot-scope=\"scope\">\r\n                      <span v-if=\"scope.row.type=='SYS' && scope.row.title!=''\"><el-tag type=\"success\">{{ '['+scope.row.type +'] '+ scope.row.title }}</el-tag></span>\r\n                      <span v-if=\"scope.row.type!='SYS' && scope.row.title!=''\"><el-tag type=\"\">{{ '['+scope.row.type +'] '+scope.row.title }}</el-tag></span>\r\n                      <span v-if=\"scope.row.title==''\"><el-tag type=\"danger\">暂无</el-tag></span>\r\n\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    prop=\"path\"\r\n                    label=\"path\"\r\n                    width=\"270px\"\r\n                  >\r\n                    <template slot-scope=\"scope\">\r\n                      <el-tag v-if=\"scope.row.action=='GET'\">{{ scope.row.action }}</el-tag>\r\n                      <el-tag v-if=\"scope.row.action=='POST'\" type=\"success\">{{ scope.row.action }}</el-tag>\r\n                      <el-tag v-if=\"scope.row.action=='PUT'\" type=\"warning\">{{ scope.row.action }}</el-tag>\r\n                      <el-tag v-if=\"scope.row.action=='DELETE'\" type=\"danger\">{{ scope.row.action }}</el-tag>\r\n                      {{ scope.row.path }}\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                </el-table>\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                  <span v-if=\"scope.row.permission==''\">-</span>\r\n                  <span v-else>{{ scope.row.permission }}</span>\r\n                </div>\r\n              </el-popover>\r\n              <span v-else>\r\n                <span v-if=\"scope.row.permission==''\">-</span>\r\n                <span v-else>{{ scope.row.permission }}</span>\r\n              </span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"path\" label=\"组件路径\" :show-overflow-tooltip=\"true\">\r\n            <template slot-scope=\"scope\">\r\n              <span v-if=\"scope.row.menuType=='A'\">{{ scope.row.path }}</span>\r\n              <span v-else>{{ scope.row.component }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"visible\" label=\"可见\" :formatter=\"visibleFormat\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag\r\n                :type=\"scope.row.visible === '1' ? 'danger' : 'success'\"\r\n                disable-transitions\r\n              >{{ visibleFormat(scope.row) }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"创建时间\" align=\"center\" prop=\"createdAt\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ parseTime(scope.row.createdAt) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                v-permisaction=\"['admin:sysMenu:edit']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-edit\"\r\n                @click=\"handleUpdate(scope.row)\"\r\n              >修改</el-button>\r\n              <el-button\r\n                v-permisaction=\"['admin:sysMenu:add']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-plus\"\r\n                @click=\"handleAdd(scope.row)\"\r\n              >新增</el-button>\r\n              <el-button\r\n                v-permisaction=\"['admin:sysMenu:remove']\"\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"handleDelete(scope.row)\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 添加或修改菜单对话框 -->\r\n        <el-drawer\r\n          ref=\"drawer\"\r\n          :title=\"title\"\r\n          :before-close=\"cancel\"\r\n          :visible.sync=\"open\"\r\n          direction=\"rtl\"\r\n          custom-class=\"demo-drawer\"\r\n          size=\"830px\"\r\n        >\r\n          <div class=\"demo-drawer__content\">\r\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-position=\"top\" label-width=\"106px\">\r\n              <el-row>\r\n                <el-col :span=\"24\">\r\n                  <el-form-item prop=\"parentId\">\r\n                    <span slot=\"label\">\r\n                      上级菜单\r\n                      <el-tooltip content=\"指当前菜单停靠的菜单归属\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <treeselect\r\n                      v-model=\"form.parentId\"\r\n                      :options=\"menuOptions\"\r\n                      :normalizer=\"normalizer\"\r\n                      :show-count=\"true\"\r\n                      placeholder=\"选择上级菜单\"\r\n                    />\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item prop=\"title\">\r\n                    <span slot=\"label\">\r\n                      菜单标题\r\n                      <el-tooltip content=\"菜单位置显示的说明信息\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input v-model=\"form.title\" placeholder=\"请输入菜单标题\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item prop=\"sort\">\r\n                    <span slot=\"label\">\r\n                      显示排序\r\n                      <el-tooltip content=\"根据序号升序排列\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input-number v-model=\"form.sort\" controls-position=\"right\" :min=\"0\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"24\">\r\n                  <el-form-item prop=\"menuType\">\r\n                    <span slot=\"label\">\r\n                      菜单类型\r\n                      <el-tooltip content=\"包含目录：以及菜单或者菜单组，菜单：具体对应某一个页面，按钮：功能才做按钮；\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-radio-group v-model=\"form.menuType\">\r\n                      <el-radio label=\"M\">目录</el-radio>\r\n                      <el-radio label=\"C\">菜单</el-radio>\r\n                      <el-radio label=\"F\">按钮</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                  <el-form-item label=\"菜单图标\">\r\n                    <el-popover\r\n                      placement=\"bottom-start\"\r\n                      width=\"460\"\r\n                      trigger=\"click\"\r\n                      @show=\"$refs['iconSelect'].reset()\"\r\n                    >\r\n                      <IconSelect ref=\"iconSelect\" @selected=\"selected\" />\r\n                      <el-input slot=\"reference\" v-model=\"form.icon\" placeholder=\"点击选择图标\" readonly>\r\n                        <svg-icon\r\n                          v-if=\"form.icon\"\r\n                          slot=\"prefix\"\r\n                          :icon-class=\"form.icon\"\r\n                          class=\"el-input__icon\"\r\n                          style=\"height: 32px;width: 16px;\"\r\n                        />\r\n                        <i v-else slot=\"prefix\" class=\"el-icon-search el-input__icon\" />\r\n                      </el-input>\r\n                    </el-popover>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item v-if=\"form.menuType == 'M' || form.menuType == 'C'\" prop=\"menuName\">\r\n                    <span slot=\"label\">\r\n                      路由名称\r\n                      <el-tooltip content=\"需要和页面name保持一致，对应页面即可选择缓存\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input v-model=\"form.menuName\" placeholder=\"请输入路由名称\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col v-if=\"form.menuType == 'M' || form.menuType == 'C'\" :span=\"12\">\r\n                  <el-form-item prop=\"component\">\r\n                    <span slot=\"label\">\r\n                      组件路径\r\n                      <el-tooltip content=\"菜单对应的具体vue页面文件路径views的下级路径/admin/sys-api/index；目录类型：填写Layout，如何有二级目录请参照日志目录填写；\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input v-model=\"form.component\" placeholder=\"请输入组件路径\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                  <el-form-item v-if=\"form.menuType == 'M' || form.menuType == 'C'\">\r\n                    <span slot=\"label\">\r\n                      是否外链\r\n                      <el-tooltip content=\"可以通过iframe打开指定地址\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-radio-group v-model=\"form.isFrame\">\r\n                      <el-radio label=\"0\">是</el-radio>\r\n                      <el-radio label=\"1\">否</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                  <el-form-item v-if=\"form.menuType != 'F'\" prop=\"path\">\r\n                    <span slot=\"label\">\r\n                      路由地址\r\n                      <el-tooltip content=\"访问此页面自定义的url地址，建议/开头书写，例如 /app-name/menu-name\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input v-model=\"form.path\" placeholder=\"请输入路由地址\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                  <el-form-item v-if=\"form.menuType == 'F' || form.menuType == 'C'\">\r\n                    <span slot=\"label\">\r\n                      权限标识\r\n                      <el-tooltip content=\"前端权限控制按钮是否显示\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-input v-model=\"form.permission\" placeholder=\"请权限标识\" maxlength=\"50\" />\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item v-if=\"form.menuType != 'F'\">\r\n                    <span slot=\"label\">\r\n                      菜单状态\r\n                      <el-tooltip content=\"需要显示在菜单列表的菜单设置为显示，否则设置为隐藏\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-radio-group v-model=\"form.visible\">\r\n                      <el-radio\r\n                        v-for=\"dict in visibleOptions\"\r\n                        :key=\"dict.value\"\r\n                        :label=\"dict.value\"\r\n                      >{{ dict.label }}</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                  <el-form-item v-if=\"form.menuType == 'F' || form.menuType == 'C'\">\r\n                    <span slot=\"label\">\r\n                      api权限\r\n                      <el-tooltip content=\"配置在这个才做上需要使用到的接口，否则在设置用户角色时，接口将无权访问。\" placement=\"top\">\r\n                        <i class=\"el-icon-question\" />\r\n                      </el-tooltip>\r\n                    </span>\r\n                    <el-transfer\r\n                      v-model=\"form.apis\"\r\n                      style=\"text-align: left; display: inline-block\"\r\n                      filterable\r\n                      :props=\"{\r\n                        key: 'id',\r\n                        label: 'title'\r\n                      }\"\r\n                      :titles=\"['未授权', '已授权']\"\r\n                      :button-texts=\"['收回', '授权 ']\"\r\n                      :format=\"{\r\n                        noChecked: '${total}',\r\n                        hasChecked: '${checked}/${total}'\r\n                      }\"\r\n                      class=\"panel\"\r\n                      :data=\"sysapiList\"\r\n                      @change=\"handleChange\"\r\n                    >\r\n                      <span slot-scope=\"{ option }\">{{ option.title }}</span>\r\n                    </el-transfer>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            </el-form>\r\n            <div class=\"demo-drawer__footer\">\r\n              <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n              <el-button @click=\"cancel\">取 消</el-button>\r\n            </div>\r\n          </div>\r\n\r\n        </el-drawer>\r\n      </el-card>\r\n    </template>\r\n  </BasicLayout>\r\n</template>\r\n\r\n<script>\r\nimport { listMenu, getMenu, delMenu, addMenu, updateMenu } from '@/api/admin/sys-menu'\r\nimport { listSysApi } from '@/api/admin/sys-api'\r\n\r\nimport Treeselect from '@riophae/vue-treeselect'\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\nimport IconSelect from '@/components/IconSelect'\r\n\r\nexport default {\r\n  name: 'SysMenuManage',\r\n  components: { Treeselect, IconSelect },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 菜单表格树数据\r\n      menuList: [],\r\n      sysapiList: [],\r\n      // 菜单树选项\r\n      menuOptions: [],\r\n      // 弹出层标题\r\n      title: '',\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 菜单状态数据字典\r\n      visibleOptions: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        title: undefined,\r\n        visible: undefined\r\n      },\r\n      // 表单参数\r\n      form: {\r\n        apis: [],\r\n        sysApi: []\r\n      },\r\n      // 表单校验\r\n      rules: {\r\n        title: [{ required: true, message: '菜单标题不能为空', trigger: 'blur' }],\r\n        sort: [{ required: true, message: '菜单顺序不能为空', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n\r\n    this.getApiList()\r\n    this.getDicts('sys_show_hide').then(response => {\r\n      this.visibleOptions = response.data\r\n    })\r\n  },\r\n  methods: {\r\n    handleChange(value, direction, movedKeys) {\r\n      console.log(value, direction, movedKeys)\r\n      const list = this.form.sysApi\r\n      this.form.apis = value\r\n      if (direction === 'right') {\r\n        for (let x = 0; x < movedKeys.length; x++) {\r\n          for (let index = 0; index < this.sysapiList.length; index++) {\r\n            const element = this.sysapiList[index]\r\n            if (element.id === movedKeys[x]) {\r\n              list.push(element)\r\n              break\r\n            }\r\n          }\r\n        }\r\n        this.form.sysApi = list\r\n      } else if (direction === 'left') {\r\n        const l = []\r\n        for (let index = 0; index < movedKeys.length; index++) {\r\n          const element = movedKeys[index]\r\n          for (let x = 0; x < list.length; x++) {\r\n            const e = list[x]\r\n            if (element !== e.id) {\r\n              l.push()\r\n              break\r\n            }\r\n          }\r\n        }\r\n        this.form.sysApi = l\r\n      }\r\n      // this.setApis(this.form.SysApi)\r\n      console.log(this.form.sysApi)\r\n    },\r\n    getApiList() {\r\n      this.loading = true\r\n      listSysApi({ 'pageSize': 10000, 'type': 'BUS' }).then(response => {\r\n        this.sysapiList = response.data.list\r\n        this.loading = false\r\n      }\r\n      )\r\n    },\r\n    handleClose(done) {\r\n      // if (this.loading) {\r\n      //   return\r\n      // }\r\n      // this.$confirm('需要提交表单吗？')\r\n      //   .then(_ => {\r\n      //     this.loading = true\r\n      //     this.timer = setTimeout(() => {\r\n      //       done()\r\n      //       // 动画关闭需要一定的时间\r\n      //       setTimeout(() => {\r\n      //         this.loading = false\r\n      //       }, 400)\r\n      //     }, 1000)\r\n      //   })\r\n      //   .catch(_ => {})\r\n    },\r\n    // 选择图标\r\n    selected(name) {\r\n      this.form.icon = name\r\n    },\r\n    /** 查询菜单列表 */\r\n    getList() {\r\n      this.loading = true\r\n      listMenu(this.queryParams).then(response => {\r\n        this.menuList = response.data\r\n        this.loading = false\r\n      })\r\n    },\r\n    /** 转换菜单数据结构 */\r\n    normalizer(node) {\r\n      if (node.children && !node.children.length) {\r\n        delete node.children\r\n      }\r\n      return {\r\n        id: node.menuId,\r\n        label: node.title,\r\n        children: node.children\r\n      }\r\n    },\r\n    /** 查询菜单下拉树结构 */\r\n    getTreeselect() {\r\n      listMenu().then(response => {\r\n        this.menuOptions = []\r\n        const menu = { menuId: 0, title: '主类目', children: [] }\r\n        menu.children = response.data\r\n        this.menuOptions.push(menu)\r\n      })\r\n    },\r\n    // 菜单显示状态字典翻译\r\n    visibleFormat(row) {\r\n      if (row.menuType === 'F') {\r\n        return '-- --'\r\n      }\r\n      return this.selectDictLabel(this.visibleOptions, row.visible)\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.open = false\r\n      this.reset()\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        menuId: undefined,\r\n        parentId: 0,\r\n        menuName: undefined,\r\n        icon: undefined,\r\n        menuType: 'M',\r\n        apis: [],\r\n        sort: 0,\r\n        action: this.form.menuType === 'A' ? this.form.action : '',\r\n        isFrame: '1',\r\n        visible: '0'\r\n      }\r\n      this.resetForm('form')\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.getList()\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd(row) {\r\n      this.reset()\r\n      this.getTreeselect()\r\n      if (row != null) {\r\n        this.form.parentId = row.menuId\r\n      }\r\n      this.open = true\r\n      this.title = '添加菜单'\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.reset()\r\n      this.getTreeselect()\r\n      getMenu(row.menuId).then(response => {\r\n        this.form = response.data\r\n        this.open = true\r\n        this.title = '修改菜单'\r\n      })\r\n    },\r\n    setApis(apiArray) {\r\n      var l = []\r\n      for (var index = 0; index < apiArray.length; index++) {\r\n        const element = apiArray[index]\r\n        l.push(element.id)\r\n      }\r\n      this.form.apis = l\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm: function() {\r\n      this.$refs['form'].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.menuId !== undefined) {\r\n            updateMenu(this.form, this.form.menuId).then(response => {\r\n              if (response.code === 200) {\r\n                this.msgSuccess(response.msg)\r\n                this.open = false\r\n                this.getList()\r\n              } else {\r\n                this.msgError(response.msg)\r\n              }\r\n            })\r\n          } else {\r\n            addMenu(this.form).then(response => {\r\n              if (response.code === 200) {\r\n                this.msgSuccess(response.msg)\r\n                this.open = false\r\n                this.getList()\r\n              } else {\r\n                this.msgError(response.msg)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      this.$confirm('是否确认删除名称为\"' + row.title + '\"的数据项?', '警告', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(function() {\r\n        var Ids = (row.menuId && [row.menuId]) || this.ids\r\n        return delMenu({ 'ids': Ids })\r\n      }).then((response) => {\r\n        if (response.code === 200) {\r\n          this.msgSuccess(response.msg)\r\n          this.open = false\r\n          this.getList()\r\n        } else {\r\n          this.msgError(response.msg)\r\n        }\r\n      }).catch(function() {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n.panel .el-transfer__buttons{\r\n  width: 150px;\r\n}\r\n.panel .el-transfer__buttons .el-button + .el-button{\r\n  margin-left:0;\r\n}\r\n.panel .el-transfer-panel{\r\n  width: 300px;\r\n}\r\n\r\n.el-col {\r\npadding: 0 5px;\r\n}\r\n.el-drawer__header{\r\nmargin-bottom: 0;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/admin/sys-menu"}]}