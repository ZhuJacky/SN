{"remainingRequest":"D:\\project\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\go-admin-ui\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\project\\go-admin-ui\\src\\directive\\permission\\permission.js","dependencies":[{"path":"D:\\project\\go-admin-ui\\src\\directive\\permission\\permission.js","mtime":1656853948016},{"path":"D:\\project\\go-admin-ui\\babel.config.js","mtime":1656853947966},{"path":"D:\\project\\go-admin-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656856444878},{"path":"D:\\project\\go-admin-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1656856444875},{"path":"D:\\project\\go-admin-ui\\node_modules\\eslint-loader\\index.js","mtime":1656856445038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogICAgdmFyIHJvbGVzID0gc3RvcmUuZ2V0dGVycyAmJiBzdG9yZS5nZXR0ZXJzLnJvbGVzOwoKICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHBlcm1pc3Npb25Sb2xlcyA9IHZhbHVlOwogICAgICB2YXIgaGFzUGVybWlzc2lvbiA9IHJvbGVzLnNvbWUoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICByZXR1cm4gcGVybWlzc2lvblJvbGVzLmluY2x1ZGVzKHJvbGUpOwogICAgICB9KTsKCiAgICAgIGlmICghaGFzUGVybWlzc2lvbikgewogICAgICAgIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigibmVlZCByb2xlcyEgTGlrZSB2LXBlcm1pc3Npb249XCJbJ2FkbWluJywnZWRpdG9yJ11cIiIpOwogICAgfQogIH0KfTs="},{"version":3,"names":["store","inserted","el","binding","vnode","value","roles","getters","Array","length","permissionRoles","hasPermission","some","role","includes","parentNode","removeChild","Error"],"sources":["D:/project/go-admin-ui/src/directive/permission/permission.js"],"sourcesContent":["import store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const roles = store.getters && store.getters.roles\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const permissionRoles = value\r\n\r\n      const hasPermission = roles.some(role => {\r\n        return permissionRoles.includes(role)\r\n      })\r\n\r\n      if (!hasPermission) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`need roles! Like v-permission=\"['admin','editor']\"`)\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;EACbC,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;IAC3B,IAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;IACA,IAAMC,KAAK,GAAGN,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACO,OAAN,CAAcD,KAA7C;;IAEA,IAAID,KAAK,IAAIA,KAAK,YAAYG,KAA1B,IAAmCH,KAAK,CAACI,MAAN,GAAe,CAAtD,EAAyD;MACvD,IAAMC,eAAe,GAAGL,KAAxB;MAEA,IAAMM,aAAa,GAAGL,KAAK,CAACM,IAAN,CAAW,UAAAC,IAAI,EAAI;QACvC,OAAOH,eAAe,CAACI,QAAhB,CAAyBD,IAAzB,CAAP;MACD,CAFqB,CAAtB;;MAIA,IAAI,CAACF,aAAL,EAAoB;QAClBT,EAAE,CAACa,UAAH,IAAiBb,EAAE,CAACa,UAAH,CAAcC,WAAd,CAA0Bd,EAA1B,CAAjB;MACD;IACF,CAVD,MAUO;MACL,MAAM,IAAIe,KAAJ,wDAAN;IACD;EACF;AAlBY,CAAf"}]}